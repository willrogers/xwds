{"version":3,"file":"78efbe3d844c0cee56344675073e192e7af46c1c-06db312aa57740643cba.js","mappings":";6FAEA,MAAMA,EAAY,YACZC,EAAY,YACZC,EAAkB,0BAClBC,EAAa,yBACbC,EAAa,WAEbC,EAAqB,IAAIC,OAAO,IAAMF,EAAWG,QACjDC,EAA4B,IAAIF,OAAOF,EAAWG,OAASJ,EAAWI,OAAQ,MAC9EE,EAAyB,IAAIH,OAAO,OAASH,EAAWI,OAAQ,MA6ChEG,EAAY,CAACC,EAAOC,KACzB,GAAuB,iBAAVD,IAAsBE,MAAMC,QAAQH,GAChD,MAAM,IAAII,UAAU,gDAiBrB,GAdAH,EAAU,CACTI,YAAY,EACZC,8BAA8B,KAC3BL,GAWiB,KAPpBD,EADGE,MAAMC,QAAQH,GACTA,EAAMO,KAAIC,GAAKA,EAAEC,SACvBC,QAAOF,GAAKA,EAAEG,SACdC,KAAK,KAECZ,EAAMS,QAGLE,OACT,MAAO,GAGR,MAAME,GAAiC,IAAnBZ,EAAQa,OAC3BC,GAAUA,EAAOF,cACjBE,GAAUA,EAAOC,kBAAkBf,EAAQa,QACtCG,GAAiC,IAAnBhB,EAAQa,OAC3BC,GAAUA,EAAOE,cACjBF,GAAUA,EAAOG,kBAAkBjB,EAAQa,QAE5C,GAAqB,IAAjBd,EAAMW,OACT,OAAOV,EAAQI,WAAaY,EAAYjB,GAASa,EAAYb,GAqB9D,OAlBqBA,IAAUa,EAAYb,KAG1CA,EAhFwB,EAACe,EAAQF,EAAaI,KAC/C,IAAIE,GAAkB,EAClBC,GAAkB,EAClBC,GAAsB,EAE1B,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAOJ,OAAQW,IAAK,CACvC,MAAMC,EAAYR,EAAOO,GAErBH,GAAmB9B,EAAUmC,KAAKD,IACrCR,EAASA,EAAOU,MAAM,EAAGH,GAAK,IAAMP,EAAOU,MAAMH,GACjDH,GAAkB,EAClBE,EAAsBD,EACtBA,GAAkB,EAClBE,KACUF,GAAmBC,GAAuB/B,EAAUkC,KAAKD,IACnER,EAASA,EAAOU,MAAM,EAAGH,EAAI,GAAK,IAAMP,EAAOU,MAAMH,EAAI,GACzDD,EAAsBD,EACtBA,GAAkB,EAClBD,GAAkB,IAElBA,EAAkBN,EAAYU,KAAeA,GAAaN,EAAYM,KAAeA,EACrFF,EAAsBD,EACtBA,EAAkBH,EAAYM,KAAeA,GAAaV,EAAYU,KAAeA,EAEvF,CAEA,OAAOR,CAAM,EAsDJW,CAAkB1B,EAAOa,EAAaI,IAG/CjB,EAAQA,EAAM2B,QAAQjC,EAAoB,IAGzCM,EADGC,EAAQK,6BAxDwB,EAACN,EAAOa,KAC5CtB,EAAgBqC,UAAY,EAErB5B,EAAM2B,QAAQpC,GAAiBsC,GAAMhB,EAAYgB,MAsD/CvB,CAA6BN,EAAOa,GAEpCA,EAAYb,GAGjBC,EAAQI,aACXL,EAAQiB,EAAYjB,EAAM8B,OAAO,IAAM9B,EAAMyB,MAAM,IAzDjC,EAACzB,EAAOiB,KAC3BpB,EAA0B+B,UAAY,EACtC9B,EAAuB8B,UAAY,EAE5B5B,EAAM2B,QAAQ9B,GAA2B,CAACkC,EAAGC,IAAef,EAAYe,KAC7EL,QAAQ7B,GAAwBmC,GAAKhB,EAAYgB,MAuD5CC,CAAYlC,EAAOiB,EAAY,EAGvCkB,EAAOC,QAAUrC,EAEjBoC,EAAOC,QAAP,QAAyBrC,moBCggBzB,MCjmBasC,EAA2BC,IACC,oBAAhCC,kBACP,YAA6BA,iBAACC,UA6DI,SAAAC,EAGlCC,EACAC,EACAC,GAIA,MAAMtB,EAA8B,CAAC,EAErC,IAAauB,EAAG,uBAmBhB,MAXe,UAAXD,GACFtB,EAAawB,MAAQJ,EACrBpB,EAAayB,OAASJ,GACF,gBAAXC,IAKTC,EAAA,yDAGK,CACLG,UAAAH,EACA,4BAA+B,GAC/BI,MAAO3B,EAEX,CA0GgB,SAAY4B,EAC1BR,EACAC,EACAC,EACAtB,EACAuB,GA4BA,YA5BA,IAAAA,IAAAA,EAAuB,CAAC,GAkBnBM,EAAA,GAAAP,EACH,CAAAQ,QAAA9B,EACA+B,WAAYX,EACZ,kBAAqB,GACrBO,MAAKE,EAAA,GACAN,EAAK,CACRS,QAASX,EAAW,EAAI,KAK9B,UAOmCY,EACjCb,EACAC,EACAC,EACAtB,EACAuB,EACAW,EACAC,EACAC,GAEA,MAAkBC,EAAkB,CAAC,EAEjCH,IACFG,EAAaC,gBAAkBJ,EAEhB,UAAXZ,GACFe,EAAab,MAAQxB,EACrBqC,EAAaZ,OAASF,EACtBc,EAAaC,gBAAkBJ,EAC/BG,EAAaE,SAAW,aACJ,gBAAXjB,GAMW,cAAXA,KALTe,EAAaE,SAAW,WACxBF,EAAaG,IAAM,EACnBH,EAAaI,KAAO,EACpBJ,EAAaK,OAAS,EACtBL,EAAaM,MAAQ,IAUrBR,IACFE,EAAaO,UAAYT,GAGvBC,IACFC,EAAaQ,eAAiBT,GAEhC,MAAYU,EAAAjB,EAAA,GACPT,EAAW,CACd,eAAc,EACd,yBAA4B,GAC5BO,MACEE,EAAA,CAAAG,QAASX,EAAW,EAAI,EACxB0B,WAAkC,wBAC/BV,KAeP,OACFS,CAAA,CCrUA,MAAAE,EAAA,aAkEWC,EAA2C,SAAAC,GAGpD,IAHmEC,OACnE9B,EAAMG,MACNF,EAAKG,OACLzB,GAAAkD,EAEA,MAAe,cAAX7B,EAEAD,EAAAA,cAAiB,wBAAAO,MAAO,CAAEyB,WAAgBpD,EAASsB,EAAS,IAAnB,OAI9B,gBAAXD,EAEAD,EAAAA,cAAA,OAAKO,MAAO,CAAE0B,SAAU/B,EAAOgC,QAAS,UACtClC,EAAAA,cAAA,OACEmC,IAAI,GACJC,KAAK,eACO,qBACZC,IAAA,qDAA0DzD,eAAoBsB,uEAC9EK,MAAO,CACL0B,SAAgB,OAChBC,QAAgB,QAChBf,SAAkB,aAOrB,IACT,EAE0BmB,EAEtB,SAA6CpC,GAAA,IAAtBqC,SAAE3D,GAAoBsB,EAAPC,EAAKqC,EAAAtC,EAAA0B,GAC7C,OACE5B,EAAAA,cAACC,EAAAA,SAAQ,KACPD,EAAAA,cAAC6B,EAAUpB,EAAA,GAAAN,IACVvB,EAEmC,KAG1C,EAAA6D,EAAA,8CAAAC,EAAA,oCC1EWC,EAAkC,SAAc1C,GAAA,IAACoC,IAC1DnC,EAAG0C,OACHhE,EAAM8B,QACNP,EAAOgC,IACPrB,EAAQ,GAAAH,WACRI,GACGd,EAAAe,EAEHwB,EAAAvC,EAAAwC,GAAA,OACEzC,EAAAA,cAAA,MAAAS,EAAA,GACMO,EAAK,CACT6B,SAAS,QACTnC,QAASP,EACTkC,IAAKtB,EAAab,OAAA,EAAe,WACtBa,OAAA,EAAab,EACxB0C,OAAQ7B,EAAanC,OAAA,EACR,cAACmC,OAAA,EAAanC,EAC3BuD,IAAKrB,IAGX,EAEoBgC,EAA2B,SAAgB7C,GAAC,IAAA8C,SAC9D7C,EAAQ8C,QACRpE,EAAU,GAAE+B,WACZR,GAAA,GAEDF,EADIa,EAEH0B,EAAAvC,EAAAyC,GAAA,MAAA3B,EAAcD,EAAMmC,QAAS,MAAA/C,OAAA,EAAAA,EAAU+C,OAAAjC,EAErChB,EAAAA,cAAC2C,EAAUlC,EAAA,GAAAK,EAAWZ,EAAU,CAAA+C,MAAOlC,EAAOJ,WAAYR,KAG5D,OAAKvB,EAAQX,OAAA+B,EAAAA,cAKX,eACGpB,EAAQf,KAAIqF,IAAA,IAAGC,MAAAlD,EAAO2C,OAAA1C,EAAQkD,KAAAxE,GAAAsE,EAAA,OAC7BlD,EAAAA,cAAA,UACEqD,IAAQ,GAAApD,KAASrB,KAAQsB,IACzBkD,KAAMxE,EACNuE,MAAOlD,EACP2C,OAAQzC,EAAaD,OAAA,EACR,cAACC,OAAA,EAAaD,EAC3B+C,MAAOlC,GAAA,IAGVC,GAAAA,CAGP,ECvFA,IAAAsC,EDyFAX,EAAMY,UAAY,CAChBlB,IAAKX,EAAAA,OAAiB8B,WACtBrB,IAAKT,EAAAA,OAAiB8B,WACtBP,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OACRf,WAAYe,EAAAA,MAGdoB,EAAQW,YAAc,UACtBX,EAAQS,UAAY,CAClBpB,IAAKT,EAAAA,OAAiB8B,WACtB7C,WAAYe,EAAAA,KACZqB,SAAUrB,EAAAA,MAAgB,CACxBW,IAAKX,EAAAA,OAAiB8B,WACtBZ,OAAQlB,EAAAA,OACRuB,MAAOvB,EAAAA,SAETsB,QAAStB,EAAAA,QACPA,EAAAA,UAAoB,CAClBA,EAAAA,MAAgB,CACdyB,MAAOzB,EAAAA,OAAiB8B,WACxBJ,KAAM1B,EAAAA,OACNuB,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OAAiB8B,aAE3B9B,EAAAA,MAAgB,CACdyB,MAAOzB,EAAAA,OACP0B,KAAM1B,EAAAA,OAAiB8B,WACvBP,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OAAiB8B,iBCtHjC,MAAAE,EAAA,aASaC,EACX,SAAoB1D,GAAC,IAAA8C,SAAE7C,GAAaD,EAAArB,EAAA4D,EAAAvC,EAAAyD,GAClC,OAAIxD,EAEAF,EAAAA,cAAC8C,EACKrC,EAAA,GAAA7B,EACJ,CAAAmE,SAAU,CACRV,IAAKnC,GACN,iBAEDiC,IAAI,MAAAnC,EAAAA,cAID,MAASS,EAAA,GAAA7B,GAEpB,EAEF+E,EAAYF,YAAc,cAC1BE,EAAYJ,UAAY,CACtBR,SAAUrB,EAAAA,OACVsB,QAA0B,OAAnBM,EAAER,EAAQS,gBAAA,EAARD,EAAmBN,QAC5Bb,IAAK,SAAUnC,EAAOC,EAAUC,GAC9B,OAAKF,EAAMC,GAIJ,IAAS2D,MACd,kBAAkB3D,qBAA4BC,2BAH/C,IAKH,GClCW,MAAA2D,EAAoC,SAAmB5D,GAClE,OACED,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC8C,EAAYrC,EAAA,GAAAR,IACbD,EAAAA,cAAA,gBACEA,EAAAA,cAAC8C,EAAYrC,EAAA,GAAAR,EAAA,CAAOU,YAAA,MAI5B,EAEAkD,EAAUJ,YAAc,YACxBI,EAAUN,UAAYT,EAAQS,UAAA,MAAAO,EAAA,8HAAAC,EAAA,sBCRxBC,EAAkBhE,GAAwBA,EAAIf,QAAQ,MAAO,IAmHtDgF,EAA4C,SACvDjE,EACAC,EACAC,GAAA,QAAAgE,EAAAC,UAAAlG,OACGW,EAAA,IAAApB,MAAA0G,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAxF,EAAAwF,EAAA,GAAAD,UAAAC,GAAA,OAEEpE,EAAMmC,KAAqB,KAAdnC,EAAMmC,IAMRkC,IAAAA,OAACC,MAADD,IAAA,CAAQrE,EAAOC,EAAUC,GAAAqE,OAAkB3F,IALlD,IAAAgF,MAAA,iCAC4B1D,2JAAA,EAOjBsE,EAAG,CACvBC,MAAOJ,IAAAA,OAAiBb,WACxBrB,IAAK8B,GC7IPS,EAAA,8FAAAC,EAAA,sBAAAC,EA4BmB,IAAAC,IACnB,IAA8BC,EACyBC,EAgCvD,MAAMC,EAA4C,SAWjDhF,GAAA,IAX8EiF,GAC7EhF,EAAU,MAAAwE,MACVvE,EAAKK,MACLU,EAAKC,gBACLQ,EAAepB,UACf+D,EACAa,MAAOC,EAAWC,YAClBC,EAAWC,OACX/F,EAAMgG,QACNC,GAEDxF,EADIyF,EAEHjD,EAAAxC,EAAA0E,GAAA,MAAMtE,MAAEsF,EAAKrF,OAAEsF,EAAM5D,OAAE6D,GAAW1F,EAAA2F,EAK9B9F,EAAgB2F,EAAOC,EAAQC,IAHjCrF,MAAOuF,EACPxF,UAAWyF,GACRF,EAAAG,EAAAxD,EAAAqD,EAAAlB,GAECsB,GAAO9F,EAAAA,EAAAA,UAAA+F,GACIpF,EAAAA,EAAAA,UAAQ,IAAMqF,KAAKC,UAAUlG,EAAMmG,SAAS,CAACnG,EAAMmG,SAGhElB,IACFd,EAAYc,GAGd,MAAWmB,EAAA,SLxCXtG,EACAC,EACAC,GAEA,IAAStB,EAAG,GAWZ,MAVe,cAAXoB,IACFpB,EACE,+CAACsB,EAASD,EAAS,iBAIR,gBAAXD,IACFpB,EAAA,0BAAkCqB,mIAAuIC,eAAoBD,2IAGxLrB,CACT,CKwBa,CAAYgH,EAAQF,EAAOC,GA+HtC,OA7HA5E,EAAAA,EAAAA,YAAU,KACH+D,IACHA,EAA6B,8BAAyByB,MACpDC,IAAA,IAAGC,oBAAAzG,EAAqB0G,qBAAAzG,GAAAuG,EAAA,OACtBzB,EAAc/E,EAEP,CACLyG,oBAAAzG,EACA0G,qBAAAzG,EAAA,KAQR,MAAMD,EAAWiG,EAAKU,QAAQC,cACH,2BAE3B,GAAI5G,GAAYL,IAkCd,OAjCIK,EAAS6G,UAAA,MAEXxB,GAAAA,EAAc,CACZyB,WAAA,IAAW,MAEbvH,GAAAA,EAAS,CACPuH,WAAA,IAIFC,YAAW,KACT/G,EAASgH,gBAAgB,2BACxB,KAEQ,MAAX3B,GAAAA,EAAc,CACZyB,WAAA,IAGF9G,EAASiH,iBAAuB,QAAE,SAAAhH,IAChCD,EAASkH,oBAAA,OAA4BjH,GAE/B,MAANV,GAAAA,EAAS,CACPuH,WAAA,IAGFC,YAAW,KACT/G,EAASgH,gBAAgB,wBAAuB,GAC/C,EACL,UAGFpC,EAAWuC,IAAIjB,GAKjB,GAAInB,GAAeH,EAAWwC,IAAIlB,GAChC,OAGF,IAAIjG,EACArB,EAiCJ,OAhCAkG,EAA2ByB,MACzBc,IAAwB,IAArBZ,oBAAAzG,EAAqB0G,qBAAAvG,GAAAkH,EACjBpB,EAAKU,UAIVV,EAAKU,QAAQW,UAAYtH,EAAAS,EAAA,CACvB8G,WAAA,EACAC,SAAU5C,EAAWwC,IAAIlB,GACzBzB,MAAAvE,GACGuF,IAGAb,EAAWwC,IAAIlB,KAClBjG,EAAiBwH,uBAAsB,KACjCxB,EAAKU,UACP/H,EAAkBuB,EAChB8F,EAAKU,QACLT,EACAtB,EACA3D,EACAoE,EACA9F,EACAiG,GAEH,KAEJ,IAKE,KACDvF,GACFyH,qBAAqBzH,GAEnBrB,GACFA,GACD,CACH,GACC,CAACsB,KAGJc,EAAAA,EAAAA,kBAAgB,KACV4D,EAAWwC,IAAIlB,IAAanB,IAC9BkB,EAAKU,QAAQW,UAAYvC,EACvBtE,EAAA,CAAA8G,UAAW3C,EAAWwC,IAAIlB,GAC1BsB,SAAU5C,EAAWwC,IAAIlB,GACzBzB,MAAAvE,GACGuF,IAAA,MAILJ,GAAAA,EAAc,CACZyB,WAAA,IAAW,MAEbvH,GAAAA,EAAS,CACPuH,WAAA,IAEH,GACA,CAAC5G,KAGGtB,EAAAA,EAAAA,eAAcqB,EAAAQ,EAAA,GAChBuF,EAAY,CACfzF,MAAKE,EAAA,GACAqF,EACA7E,EACH,CAAAC,gBAAAQ,IAEFpB,UAAW,GAAGyF,IAAS1B,EAAY,IAAIA,IAAA,KACvCsD,IAAK1B,EACL2B,wBAAyB,CACvBC,OAAQvB,GAEVwB,0BAAA,IAEJ,EAEwBC,GAAwC7H,EAAAA,EAAAA,OAC9D,SAAqBF,GACnB,OAAKA,EAAMyE,OAcJ7F,EAAAA,EAAAA,eAAcoG,EAAqBhF,GARzC,IASH,IAGF+H,EAAYxE,UAAYiB,EACxBuD,EAAYtE,YAAc,cC5P1B,MAAAuE,EAAA,mPAsBgB,SAAAC,EACdhI,GAEA,OAAgB,SAuBfC,GAAA,IAvB2BmC,IAC1BzD,EACAsJ,YAAa/H,EAASgI,QACtBrH,GAmBGZ,EAAAa,EAEHyB,EAAAtC,EAAA8H,GAIA,OAJIlH,GACFsH,QAAQC,KAAKvH,GAGXX,EACKH,EAAAA,cAACC,EAAYQ,EAAA,CAAAgE,MAAOtE,GAAeY,KAE5CqH,QAAQC,KAAA,mBAAyBzJ,GAOnC,MACF,CAEA,MAAiB0J,EACfL,GFvDA,SAAoBhI,GAAA,IAACgF,GACnB/E,EAAA,MAAUI,UACV1B,EACAsG,MAAO/E,EAAWI,MAClBO,EAAK2D,MACL1D,EAAKL,QACLM,EAAgB,OAAAuH,aAChBtH,EAAYuH,SACZ9G,EAAQR,gBACRmD,EAAe7C,UACf2D,EAAS1D,eACT4D,GAAApF,EACGV,EAAKiD,EAAAvC,EAAA6D,GAER,IAAK/C,EAEH,OADAqH,QAAQC,KAAK,4CACN,KAGLlI,IACFvB,EAAYuB,GAGduB,EAAAjB,EAAA,CACEe,UAAA2D,EACA1D,eAAA4D,EACAnE,gBAAAmD,GACG3C,GAGL,MAAMtB,MACJoF,EAAKnF,OACLoF,EAAM1D,OACN2D,EAAMW,OACNV,EAAM8C,YACN7C,EACA1E,gBAAiB2E,GACf9E,EAMA+E,EAAA/F,EAAgByF,EAAOC,EAAQC,IAHjCnF,MAAOwF,EACPzF,UAAW0F,GACRF,EAAAG,EAAAzD,EAAAsD,EAAA/B,GAGCmC,EAA4C,CAChDnD,cAAA,EACAC,QAAS,IAoBX,OAlBI2C,EAAO5C,WACTmD,EAAcnD,SAAQtC,EAAA,GACjBkF,EAAO5C,SAAA,CACVH,OAAQ+C,EAAO5C,SAASH,OACpBoB,EAAe2B,EAAO5C,SAASH,aAAA,KAKnC+C,EAAO3C,UACTkD,EAAclD,QAAU2C,EAAO3C,QAAQnF,KAAImC,GAAAS,EAAA,GAEpCT,EAAM,CACT4C,OAAQoB,EAAehE,EAAO4C,aAAA5C,EAAAA,cAMlCE,EAEKO,EAAA,GAAAwF,EAAA,CACH1F,MAAKE,EAAA,GACAsF,EACAjF,EAAK,CACRI,gBAAAmD,IAEF/D,UAAW,GAAG0F,IAASpH,EAAY,IAAIA,IAAA,OAEzCoB,EAAAA,cAACsC,EAAc,CAAAP,OAAQ2D,EAAQtF,MAAOoF,EAAOnF,OAAQoF,GACnDzF,EAAAA,cAAC2D,EAAWlD,EAAA,GACNI,EACF+E,GAAA,EAEAF,EACAF,EACAC,EACAI,EACAV,EACAE,KAIJrF,EAAAA,cAAC6D,EACuBpD,EAAA,4BACtBH,UAAWW,GACN1B,EAKDiB,EACU,UAAZQ,GAAA,EAEAkF,EACAlF,EACAU,MAKV,IErDuBgH,EAAgC,SACvD1I,EACAC,GAAA,QAAA0I,EAAAxE,UAAAlG,OACGiC,EAAA,IAAA1C,MAAAmL,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAA1I,EAAA0I,EAAA,GAAAzE,UAAAyE,GAAA,MAG2B,cAA5B5I,EAAM+B,QACQ,UAAb9B,GAAA,WAAwBA,IACzBD,EAAMC,GAAAoE,IAAAA,OAMSC,MANTD,IAAA,CAMgBrE,EAAOC,GAAAsE,OAAarE,IAJnC,IAAS0D,MACd,IAAI3D,MAAaD,EAAMC,iDAAA,EAMX4I,EAAG,IAAIhE,IAAI,CAAQ,QAAa,YAAe,gBAEpDiE,EAAY,CACvBzG,IAAKgC,IAAAA,OAAiBb,WACtBrB,IAAK8B,EACL7D,MAAOsI,EACPrI,OAAQqI,EACRzF,MAAOoB,IAAAA,OACPtC,OAAS/B,IACP,YAAIA,EAAM+B,SAGN8G,EAAazB,IAAIpH,EAAM+B,QAI3B,OAAW,IAAA6B,MACT,iBAAiB5D,EAAM+B,2HAA0H,GAKvJuG,EAAY7E,YAAc,cAC1B6E,EAAY/E,UAAYuF,EC7FlB,MAAAC,EACJd,EAAgBF,GAElBgB,EAAYtF,YAAc,cAC1BsF,EAAYxF,UAAYuF,wFCpBjB,MAAME,EAAK,KACLC,EAAK,KAKLC,EAAU,CAAEC,GAAI,SAAUC,GAAI,QAEpC,IAAMC,EAAK,WAChB,SAAAA,EAAYvL,EAAG4H,GACb4D,KAAKxL,EAAIA,EACTwL,KAAK5D,EAAIA,CACX,CAAC,IAAA6D,EAAAF,EAAAvJ,UAcA,OAdAyJ,EACDC,OAAA,SAAOC,GACL,OAAiB,OAAVA,GAAkBH,KAAKxL,IAAM2L,EAAM3L,GAAKwL,KAAK5D,IAAM+D,EAAM/D,CAClE,EAAC6D,EACDG,SAAA,SAASC,EAAWC,QAAQ,IAARA,IAAAA,GAAW,GAC7B,MAAMC,EAAYD,EAAW,GAAK,EAClC,OAAID,IAAcX,EACT,IAAIK,EAAMC,KAAKxL,EAAI+L,EAAWP,KAAK5D,GAEnC,IAAI2D,EAAMC,KAAKxL,EAAGwL,KAAK5D,EAAImE,EAEtC,EAACN,EACDO,IAAA,WACE,MAAO,GAAGR,KAAKxL,KAAKwL,KAAK5D,GAC3B,EAAC2D,CAAA,CAlBe,GAqBLU,EAAO,WAClB,SAAAA,EAAYjM,EAAG4H,EAAGzH,EAAQ0L,GACxBL,KAAKxL,EAAIA,EACTwL,KAAK5D,EAAIA,EACT4D,KAAKrL,OAASA,EACdqL,KAAKK,UAAYA,CACnB,CASC,OATAI,EAAAjK,UACD0J,OAAA,SAAOC,GACL,OACY,OAAVA,GACAH,KAAKxL,IAAM2L,EAAM3L,GACjBwL,KAAK5D,IAAM+D,EAAM/D,GACjB4D,KAAKrL,SAAWwL,EAAMxL,QACtBqL,KAAKK,YAAcF,EAAME,SAE7B,EAACI,CAAA,CAfiB,GAkBPC,EAAW,WACtB,SAAAA,EAAYC,EAAKN,EAAWO,EAAMC,EAASC,GACzCd,KAAKW,IAAMA,EACXX,KAAKK,UAAYA,EACjBL,KAAKY,KAAOA,EACZZ,KAAKa,QAAUA,EACfb,KAAKc,YAAcA,CACrB,CAOC,OAPAJ,EAAAlK,UACD0J,OAAA,SAAOC,GACL,OACY,OAAVA,GACAH,KAAKW,MAAQR,EAAMQ,KACnBX,KAAKK,YAAcF,EAAME,SAE7B,EAACK,CAAA,CAdqB,GAiBjB,SAASK,EAAYC,EAAOC,GACjC,IAAK,IAAIzE,EAAI,EAAGA,EAAIwE,EAAMrM,OAAQ6H,IAAK,CACrC,MAAM,EAAEhI,EAAC,EAAE4H,GAAM4E,EAAMxE,GACvB,GAAIhI,IAAMyM,EAAKzM,GAAK4H,IAAM6E,EAAK7E,EAC7B,OAAO,CAEX,CACA,OAAO,CACT,CAEO,SAAS8E,EAAWN,EAAMK,GAC/B,GAAIL,EAAKP,YAAcX,EACrB,IAAK,IAAIpK,EAAIsL,EAAKpM,EAAGc,EAAIsL,EAAKpM,EAAIoM,EAAKjM,OAAQW,IAC7C,GAAI2L,EAAKzM,IAAMc,GAAK2L,EAAK7E,IAAMwE,EAAKxE,EAClC,OAAO,EAIb,GAAIwE,EAAKP,YAAcV,EACrB,IAASrK,EAAIsL,EAAKxE,EAAG9G,EAAIsL,EAAKxE,EAAIwE,EAAKjM,OAAQW,IAC7C,GAAI2L,EAAKzM,GAAKoM,EAAKpM,GAAKyM,EAAK7E,GAAK9G,EAChC,OAAO,EAIb,OAAO,CACT,CC5EO,SAAS6L,EAAWC,GACzB,OACEC,EAAAA,cAAA,OACEpK,MAAO,CACLY,SAAU,WACVf,MAAOsK,EAAMjK,EAAI,EAAI,KACrBJ,OAAQqK,EAAM9E,EAAI,EAAI,KACtBxE,IAAKsJ,EAAMhF,EAAI,KACfrE,KAAMqJ,EAAM5M,EAAI,MAElBwC,UAAU,cAGhB,CACO,SAASsK,EAAUF,GACxB,IAAIxJ,EAAkBwJ,EAAMG,SACxB,OACAH,EAAMI,UACJ,YACA,YAEN,OACEH,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,OACEpK,MAAO,CACLY,SAAU,WACVf,MAAOsK,EAAMjK,EAAI,EAAI,KACrBJ,OAAQqK,EAAM9E,EAAI,EAAI,KACtBxE,IAAKsJ,EAAMhF,EAAI,KACfrE,KAAMqJ,EAAM5M,EAAI,KAChBoD,gBAAiBA,GAEnB6J,QAASL,EAAMK,QACfzK,UAAU,cAEToK,EAAMM,UAETL,EAAAA,cAAA,OACErK,UAAU,cACVC,MAAO,CACLY,SAAU,WACVf,MAAOsK,EAAMjK,EAAI,EAAI,KACrBJ,OAAQqK,EAAM9E,EAAI,EAAI,KACtBxE,IAAKsJ,EAAMhF,EAAI,KACfrE,KAAMqJ,EAAM5M,EAAI,EAAI,OAGrB4M,EAAMO,QAIf,CAEO,SAASC,EAAYR,GAC1B,IAAIS,EAAO,oBACX,GAAmB,OAAfT,EAAMR,KAAe,CACvB,MAAM,IAAED,EAAG,UAAEN,EAAS,KAAEO,EAAI,QAAEC,EAAO,YAAEC,GAAgBM,EAAMR,KACvDkB,EAAM,IAAIC,KAKhBF,EAAO,GAAGlB,KAAON,MAHI,KAAnByB,EAAIE,YAAqBF,EAAIG,UAAYnB,EACrCF,EACA,wBAAwBE,SACWD,IAC3C,CACA,OACEQ,EAAAA,cAAA,OAAKpK,MAAO,CAAEiL,QAAS,SACrBb,EAAAA,cAAA,QACEpK,MAAO,CACLkL,WAAY,OACZD,QAAS,MACTE,OAAQ,MACRxK,gBAAiB,cAGlBiK,GAIT,CAEO,SAASQ,EAAUjB,GACxB,GAA6B,MAAzBA,EAAMkB,gBACR,IAAK,MAAO3B,EAAK4B,KAAYC,OAAOC,QAClCrB,EAAMsB,MAAMtB,EAAMkB,gBAAgBjC,YACjC,CACD,MAAOO,EAAMC,EAAS8B,GAAQvB,EAAMwB,SAASL,EAAQlC,WAAWM,GAC1DkC,EAAW,IAAInC,EACnBC,EACA4B,EAAQlC,UACRO,EACAC,EACA8B,GAGAJ,EAAQrC,OAAOkB,EAAMkB,mBACpBO,EAAS3C,OAAOkB,EAAM0B,eAEvB1B,EAAM2B,gBAAgBF,EAE1B,CAEF,SAASG,EAAiBrC,EAAKsC,GAC7B,MAAMC,EAAc9B,EAAMsB,MAAMO,GAAKtC,GACrCS,EAAM+B,mBAAmBD,GACzB9B,EAAMgC,gBAAgB,IAAIrD,EAAMmD,EAAY1O,EAAG0O,EAAY9G,GAC7D,CACA,OACEiF,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAA,UAAKD,EAAMiC,OACXhC,EAAAA,cAAA,SAAID,EAAMkC,UACVjC,EAAAA,cAACO,EAAW,CAAChB,KAAMQ,EAAM0B,eACzBzB,EAAAA,cAAA,OAAKpK,MAAO,CAAEmL,OAAQ,OAASmB,GAAG,iBAChClC,EAAAA,cAACmC,EAAI,CACHC,WAAYrC,EAAMqC,WAClBC,WAAYtC,EAAMsC,WAClBC,MAAOvC,EAAMuC,MACbxM,EAAGiK,EAAMjK,EACTmF,EAAG8E,EAAMjK,EACTuL,MAAOtB,EAAMsB,MACbI,aAAc1B,EAAMkB,gBACpBS,gBAAiB3B,EAAM+B,mBACvBS,aAAcxC,EAAMwC,aACpBR,gBAAiBhC,EAAMgC,gBACvBS,YAAazC,EAAMyC,YACnBC,eAAgB1C,EAAM0C,eACtBC,eAAgB3C,EAAM2C,kBAG1B1C,EAAAA,cAAC2C,EAAO,CACN3D,UAAWX,EACXgD,MAAOtB,EAAMwB,SAASlD,GACtB+B,QAASuB,EACTF,aAAc1B,EAAM0B,eAEtBzB,EAAAA,cAAC2C,EAAO,CACN3D,UAAWV,EACX+C,MAAOtB,EAAMwB,SAASjD,GACtB8B,QAASuB,EACTF,aAAc1B,EAAM0B,eAI5B,CAEO,SAASU,EAAKpC,GAsBnB,MAAM6C,EAAY,CAAC,EACnB,IAAK,IAAKlK,EAAKmK,KAAU1B,OAAOC,QAAQrB,EAAMsB,MAAMhD,IAClDuE,EAAUlK,GAAO,IAAIgG,EAAMmE,EAAM1P,EAAG0P,EAAM9H,GAE5C,IAAK,IAAKrC,EAAKmK,KAAU1B,OAAOC,QAAQrB,EAAMsB,MAAM/C,IAClDsE,EAAUlK,GAAO,IAAIgG,EAAMmE,EAAM1P,EAAG0P,EAAM9H,GAE5C,SAAS+H,EAAYC,GACnB,GACEA,EAAY5P,EAAI,GAChB4P,EAAY5P,GAAK4M,EAAMjK,GACvBiN,EAAYhI,EAAI,GAChBgI,EAAYhI,GAAKgF,EAAM9E,EAEvB,OAEF,GAlCF,SAAqB2E,GACnB,IAAK,IAAI3L,EAAI,EAAGA,EAAI8L,EAAMqC,WAAW9O,OAAQW,IAAK,CAChD,MAAM+O,EAAYjD,EAAMqC,WAAWnO,GACnC,GAAI2L,EAAKzM,IAAM6P,EAAU7P,GAAKyM,EAAK7E,IAAMiI,EAAUjI,EACjD,OAAO,CAEX,CACA,OAAO,CACT,CA0BMkI,CAAYF,GACd,OAEFhD,EAAMgC,gBAAgBgB,GACtB,IAAIG,GAAU,EACd,IAAK,MAAMtD,KAAQG,EAAMsC,WACnBU,EAAYlE,OAAOe,KACrBsD,GAAU,GAGd,IAAKA,EACH,OAGF,IAAIC,EAAgB,KAChBC,EAAgB,KACpB,IAAK,IAAIP,KAAS1B,OAAOkC,OAAOtD,EAAMsB,MAAMhD,IAC1C,GAAIwB,EAAWgD,EAAOE,GAAc,CAGlC,GAFAI,EAAgBN,EAEZ9C,EAAM0B,eAAiB1B,EAAM0B,aAAa5C,OAAOsE,GAEnD,YADApD,EAAM2B,gBAAgByB,GAGtB,KAEJ,CAEF,IAAK,IAAIN,KAAS1B,OAAOkC,OAAOtD,EAAMsB,MAAM/C,IAC1C,GAAIuB,EAAWgD,EAAOE,GAGpB,OAFAK,EAAgBP,OAChB9C,EAAM2B,gBAAgB0B,EAI5B,CAEA,SAASE,EAAStE,GDvOF,OCwOVA,EACF8D,EAAY/C,EAAMwC,aAAaxD,SAAST,GAAI,IDxO9B,SCyOLU,EACT8D,EAAY/C,EAAMwC,aAAaxD,SAAST,GAAI,IDzO9B,SC0OLU,EACT8D,EAAY/C,EAAMwC,aAAaxD,SAASV,GAAI,ID1O7B,UC2ONW,GACT8D,EAAY/C,EAAMwC,aAAaxD,SAASV,GAAI,GAEhD,CAEA,IAAIkF,EAAmB,GACvB,GAA0B,MAAtBxD,EAAM0B,aAAsB,CAC9B,MAAM,EAAEtO,EAAC,EAAE4H,EAAC,OAAEzH,EAAM,UAAE0L,GAAce,EAAM0B,aAC1C,GAAIzC,GAAaX,EACf,IAAK,IAAIpK,EAAId,EAAGc,EAAId,EAAIG,EAAQW,IAC9BsP,EAAiBC,KAAK,IAAI9E,EAAMzK,EAAG8G,SAGrC,IAAK,IAAI9G,EAAI8G,EAAG9G,EAAI8G,EAAIzH,EAAQW,IAC9BsP,EAAiBC,KAAK,IAAI9E,EAAMvL,EAAGc,GAGzC,CAEA,IAAK,IAAIkH,EAAI,EAAGA,EAAI4E,EAAMuC,MAAMhP,OAAQ6H,IAAK,CAC3C,MAAOhI,EAAG4H,GAAKgF,EAAMuC,MAAMnH,GAC3B,IAAImF,EAAS,KACb,IAAK,IAAK5H,EAAKmK,KAAU1B,OAAOC,QAAQwB,GAClCC,EAAM1P,IAAMA,GAAK0P,EAAM9H,IAAMA,IAC/BuF,EAAS5H,GAGbqH,EAAMuC,MAAMnH,GAAGqI,KAAKlD,GACpB,IAAIH,GAAY,EAChB,IAAK,IAAI7J,EAAI,EAAGA,EAAIiN,EAAiBjQ,OAAQgD,IACvCnD,IAAMoQ,EAAiBjN,GAAGnD,GAAK4H,IAAMwI,EAAiBjN,GAAGyE,IAC3DoF,GAAY,GAGhBJ,EAAMuC,MAAMnH,GAAGqI,KAAKrD,EACtB,CACA,OACEH,EAAAA,cAAA,OACEpK,MAAO,CACLY,SAAU,WACVf,MAxHY,GAwHLsK,EAAMjK,EAAgB,KAC7BJ,OA1Ha,GA0HLqK,EAAM9E,EAAiB,OAGhC8E,EAAMuC,MAAMpP,KAAIuQ,IAA2C,IAAzCxP,EAAGyP,EAAGV,EAAW1C,EAAQH,GAAUsD,EACpD,OAAIT,EAEAhD,EAAAA,cAACF,EAAU,CACThK,EAhIM,GAiINmF,EAlIO,GAmIP9H,EAlIM,GAkIHc,EACH8G,EApIO,GAoIJ2I,EACHhL,IAAKzE,EAAI8L,EAAMjK,EAAI4N,IAKrB1D,EAAAA,cAACC,EAAS,CACRnK,EA1IM,GA2INmF,EA5IO,GA6IP9H,EA5IM,GA4IHc,EACH8G,EA9IO,GA8IJ2I,EACHhL,IAAKzE,EAAI8L,EAAMjK,EAAI4N,EACnBpD,OAAQA,EACRH,UAAWA,EACXD,SACyB,OAAvBH,EAAMwC,cACNtO,IAAM8L,EAAMwC,aAAapP,GACzBuQ,IAAM3D,EAAMwC,aAAaxH,EAE3BqF,QAAU/K,GAAMyN,EAAY,IAAIpE,EAAMzK,EAAGyP,IACzChB,eAAgB3C,EAAM2C,eACtBiB,eAAgB5D,EAAM4D,eACtBL,SAAUA,EACVjD,SAAUN,EAAMyC,YAAY,GAAGvO,KAAKyP,KACpCE,YAAcC,GA/I1B,SAAkB5P,EAAGyP,EAAGrD,GACtB,MAAMyD,EAAiB,IAClB/D,EAAMyC,aAEXsB,EAAe,GAAG7P,KAAKyP,KAAOrD,EAC9BN,EAAM0C,eAAeqB,EACvB,CAyIqCC,CAAS9P,EAAGyP,EAAGG,IAG9C,IAIR,CAEO,SAASlB,EAAQ5C,GAItB,IAAIT,EAAM,KACNN,EAAY,KAKhB,OAJ2B,OAAvBe,EAAM0B,eACRnC,EAAMS,EAAM0B,aAAanC,IACzBN,EAAYe,EAAM0B,aAAazC,WAG/BgB,EAAAA,cAAA,OACEpK,MAAO,CACLkL,WAAY,OACZrL,MAAO,QACP8B,QAAS,eACTyM,cAAe,MACfjD,OAAQ,QAGVf,EAAAA,cAAA,OAAKpK,MAAO,CAAEqO,OAAQ,kBAAmBpD,QAAS,QAC/CtC,EAAQwB,EAAMf,YAEhBmC,OAAOC,QAAQrB,EAAMsB,OAAOnO,KAAKgR,IAChC,MAAO5D,EAAQ6D,GAAQD,EACjBhE,EAAWH,EAAMf,YAAcA,GAAasB,IAAWhB,GACtD8E,EAAUC,EAAK5E,GAAe0E,EAE/B1D,EAAM,IAAIC,KACVF,EACe,KAAnBC,EAAIE,YAAqBF,EAAIG,UAAYnB,EACrC2E,EACA,wBAAwB3E,KAI9B,OACEO,EAAAA,cAACsE,EAAI,CACH5L,IAAK4H,EACLA,OAAQA,EACRf,KAAMiB,EACN6D,IAAKA,EACLjE,QATJ,YAhCN,SAAwBE,GACtBP,EAAMK,QAAQE,EAAQP,EAAMf,UAC9B,CA+BQuF,CAAejE,EACjB,EAQIJ,SAAUA,GACV,IAKZ,CAEO,SAASoE,EAAKvE,GACnB,IAAIyE,EAAa,OAIjB,OAHIzE,EAAMG,WACRsE,EAAa,GAAGA,cAGhBxE,EAAAA,cAAA,OAAKrK,UAAW6O,EAAYpE,QAASL,EAAMK,SACxCL,EAAMO,OAAO,KAAGP,EAAMR,KAAK,KAAGQ,EAAMsE,IAAI,IAG/C,eC7XO,MAAMI,EAAkB1E,GAI3BC,EAAAA,cAAA,OAAKkC,GAAG,kBAAkB9B,QAASL,EAAM2E,iBACvC1E,EAAAA,cAAC2E,EAAAA,EAAW,CAACnN,IAAI,WAAWE,IAAI,yBAAwB6F,YAAAqH,EAAA,SAKjDC,EAAe9E,GAKxBC,EAAAA,cAAA,OACEI,QAASA,IAAML,EAAM+E,WAAW/E,EAAM8D,QACtClO,UAAU,gBAEToK,EAAM8D,QAKAkB,EAAgBhF,GAIzBC,EAAAA,cAAA,OACEI,QAASA,IAAML,EAAM+E,WAAW,aAChCnP,UAAU,0BAET,KAKMqP,EAAYjF,GAKrBC,EAAAA,cAAA,OAAKkC,GAAG,YACNlC,EAAAA,cAAA,OAAKrK,UAAU,gBACbqK,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,cAE5C9E,EAAAA,cAAA,OAAKrK,UAAU,gBACbqK,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,cAE5C9E,EAAAA,cAAA,OAAKrK,UAAU,gBACbqK,EAAAA,cAAA,OAAKrK,UAAU,oBACfqK,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC6E,EAAW,CAAChB,OAAO,IAAIiB,WAAY/E,EAAM+E,aAC1C9E,EAAAA,cAAC+E,EAAY,CAACD,WAAY/E,EAAM+E,eC/ExC,IASIG,EATAC,EAAS,CAAC,EAwVd,IAAIC,EA7UJ,WACC,GAAIF,EAAmB,OAAOC,EAC9BD,EAAoB,EAOpBC,EAAOE,MAqFP,SAAejG,EAAKkG,GAClB,GAAmB,iBAARlG,EACT,MAAM,IAAIpM,UAAU,iCAGtB,IAAIuS,EAAM,CAAC,EACPjB,EAAMlF,EAAI7L,OAEd,GAAI+Q,EAAM,EAAG,OAAOiB,EAEpB,IAAIC,EAAOF,GAAOA,EAAIG,QAAWA,EAC7BC,EAAQ,EACRC,EAAQ,EACRC,EAAS,EAEb,EAAG,CAED,IAAe,KADfD,EAAQvG,EAAIyG,QAAQ,IAAKH,IACP,MAIlB,IAAgB,KAFhBE,EAASxG,EAAIyG,QAAQ,IAAKH,IAGxBE,EAAStB,OACJ,GAAIqB,EAAQC,EAAQ,CAEzBF,EAAQtG,EAAI0G,YAAY,IAAKH,EAAQ,GAAK,EAC1C,QACF,CAEA,IAAII,EAAcC,EAAW5G,EAAKsG,EAAOC,GACrCM,EAAYC,EAAS9G,EAAKuG,EAAOI,GACjCpN,EAAMyG,EAAI/K,MAAM0R,EAAaE,GAGjC,IAAKE,EAAiBC,KAAKb,EAAK5M,GAAM,CACpC,IAAI0N,EAAcL,EAAW5G,EAAKuG,EAAQ,EAAGC,GACzCU,EAAYJ,EAAS9G,EAAKwG,EAAQS,GAEF,KAAhCjH,EAAImH,WAAWF,IAAmE,KAAlCjH,EAAImH,WAAWD,EAAY,KAC7ED,IACAC,KAGF,IAAIE,EAAMpH,EAAI/K,MAAMgS,EAAaC,GACjCf,EAAI5M,GAAO8N,EAAUD,EAAKhB,EAC5B,CAEAE,EAAQE,EAAS,CACnB,OAASF,EAAQpB,GAEjB,OAAOiB,CACT,EAvIAJ,EAAOuB,UAyKP,SAAmBC,EAAMH,EAAKlB,GAC5B,IAAIsB,EAAOtB,GAAOA,EAAIuB,QAAWC,mBAEjC,GAAmB,mBAARF,EACT,MAAM,IAAI5T,UAAU,4BAGtB,IAAK+T,EAAiB3S,KAAKuS,GACzB,MAAM,IAAI3T,UAAU,4BAGtB,IAAI8P,EAAQ8D,EAAIJ,GAEhB,IAAKQ,EAAkB5S,KAAK0O,GAC1B,MAAM,IAAI9P,UAAU,2BAGtB,IAAIoM,EAAMuH,EAAO,IAAM7D,EACvB,IAAKwC,EAAK,OAAOlG,EAEjB,GAAI,MAAQkG,EAAI2B,OAAQ,CACtB,IAAIA,EAASC,KAAKC,MAAM7B,EAAI2B,QAE5B,IAAKG,SAASH,GACZ,MAAM,IAAIjU,UAAU,4BAGtBoM,GAAO,aAAe6H,CACxB,CAEA,GAAI3B,EAAI+B,OAAQ,CACd,IAAKC,EAAkBlT,KAAKkR,EAAI+B,QAC9B,MAAM,IAAIrU,UAAU,4BAGtBoM,GAAO,YAAckG,EAAI+B,MAC3B,CAEA,GAAI/B,EAAIiC,KAAM,CACZ,IAAKC,EAAgBpT,KAAKkR,EAAIiC,MAC5B,MAAM,IAAIvU,UAAU,0BAGtBoM,GAAO,UAAYkG,EAAIiC,IACzB,CAEA,GAAIjC,EAAImC,QAAS,CACf,IAAIA,EAAUnC,EAAImC,QAElB,IAmFJ,SAAiBjB,GACf,MAAgC,kBAAzBkB,EAAWtB,KAAKI,EACzB,CArFSmB,CAAOF,IAAYG,MAAMH,EAAQI,WACpC,MAAM,IAAI7U,UAAU,6BAGtBoM,GAAO,aAAeqI,EAAQK,aAChC,CAEIxC,EAAIyC,WACN3I,GAAO,cAGLkG,EAAI0C,SACN5I,GAAO,YAGLkG,EAAI2C,cACN7I,GAAO,iBAGT,GAAIkG,EAAI4C,SAAU,CAIhB,OAHuC,iBAAjB5C,EAAI4C,SACtB5C,EAAI4C,SAASzU,cAAgB6R,EAAI4C,UAGnC,IAAK,MACH9I,GAAO,iBACP,MACF,IAAK,SACHA,GAAO,oBACP,MACF,IAAK,OACHA,GAAO,kBACP,MACF,QACE,MAAM,IAAIpM,UAAU,8BAE1B,CAEA,GAAIsS,EAAI6C,SAAU,CAIhB,OAHuC,iBAAjB7C,EAAI6C,SACtB7C,EAAI6C,SAAS1U,cAAgB6R,EAAI6C,UAGnC,KAAK,EACH/I,GAAO,oBACP,MACF,IAAK,MACHA,GAAO,iBACP,MACF,IAAK,SACHA,GAAO,oBACP,MACF,IAAK,OACHA,GAAO,kBACP,MACF,QACE,MAAM,IAAIpM,UAAU,8BAE1B,CAEA,OAAOoM,CACT,EAhRA,IAAIsI,EAAatG,OAAOhM,UAAUgT,SAC9BjC,EAAmB/E,OAAOhM,UAAUiT,eAcpCtB,EAAmB,iCAYnBC,EAAoB,wEA0BpBM,EAAoB,sFAUpBE,EAAkB,kCAmEtB,SAASxB,EAAW5G,EAAKsG,EAAO4C,GAC9B,EAAG,CACD,IAAIC,EAAOnJ,EAAImH,WAAWb,GAC1B,GAAa,KAAT6C,GAAkC,IAATA,EAAwB,OAAO7C,CAC9D,SAAWA,EAAQ4C,GACnB,OAAOA,CACT,CAEA,SAASpC,EAAS9G,EAAKsG,EAAO8C,GAC5B,KAAO9C,EAAQ8C,GAAK,CAClB,IAAID,EAAOnJ,EAAImH,aAAab,GAC5B,GAAa,KAAT6C,GAAkC,IAATA,EAAwB,OAAO7C,EAAQ,CACtE,CACA,OAAO8C,CACT,CAyIA,SAAS/C,EAAQrG,GACf,OAA6B,IAAtBA,EAAIyG,QAAQ,KACf4C,mBAAmBrJ,GACnBA,CACN,CAqBA,SAASqH,EAAUrH,EAAKqG,GACtB,IACE,OAAOA,EAAOrG,EAChB,CAAE,MAAO9J,GACP,OAAO8J,CACT,CACF,CACA,OAAO+F,CACR,CAEoBuD,GAuBpB,SAASC,EAAW7F,EAAOjQ,EAAU,CAAC,GAClC,MAAM+V,EAaV,SAA4B9F,GAExB,GAAIA,GAAsB,MAAbA,EAAM,IAA2B,MAAbA,EAAM,GACnC,OAAOA,EAAM+F,OAAO,GAExB,OAAO/F,CACX,CAnBuBgG,CAAmBhG,GACtC,IAAKjQ,EAAQkW,WACT,IACI,OAAOtN,KAAK4J,MAAMuD,EACtB,CACA,MAAOtT,GAEP,CAIJ,OAAOwN,CACX,CASA,MAAMkG,EACF,WAAAC,CAAYC,EAASC,EAAoB,CAAC,GACtCvK,KAAKwK,gBAAkB,GACvBxK,KAAKyK,qBAAsB,EAC3BzK,KAAK0K,OAAS,KACV,IAAK1K,KAAKyK,oBACN,OAEJ,MAAME,EAAkB3K,KAAKsK,QAC7BtK,KAAKsK,QAAU9D,EAAcC,MAAMmE,SAASrE,QAC5CvG,KAAK6K,cAAcF,EAAgB,EAEvC,MAAMG,EAAiC,oBAAbF,SAA2B,GAAKA,SAASrE,OACnEvG,KAAKsK,QA9Cb,SAAsBA,GAClB,MAAuB,iBAAZA,EACA9D,EAAcC,MAAM6D,GAEH,iBAAZA,GAAoC,OAAZA,EAC7BA,EAGA,CAAC,CAEhB,CAoCuBS,CAAaT,GAAWQ,GACvC9K,KAAKuK,kBAAoBA,EACzBvK,KAAKyK,oBA1Db,WACI,MAAMO,EAAiC,oBAAXC,YACtBC,EACAD,OAAOE,yBACb,MAA4B,kBAAjBH,EACAA,EAGgB,iBAAbJ,UAAoD,iBAApBA,SAASrE,MAC3D,CAiDmC6E,EAC/B,CACA,WAAAC,CAAYC,GACR,IAAK,IAAIhW,EAAI,EAAGA,EAAI0K,KAAKwK,gBAAgB7V,SAAUW,EAC/C0K,KAAKwK,gBAAgBlV,GAAGgW,EAEhC,CACA,aAAAT,CAAcF,GACI,IAAIpP,IAAIiH,OAAO+I,KAAKZ,GAAiB1P,OAAOuH,OAAO+I,KAAKvL,KAAKsK,WACrEkB,SAASzD,IACP4C,EAAgB5C,KAAU/H,KAAKsK,QAAQvC,IACvC/H,KAAKqL,YAAY,CACbtD,OACA7D,MAAO6F,EAAW/J,KAAKsK,QAAQvC,KAEvC,GAER,CACA,aAAA0D,GACIzL,KAAK0L,gBAAkBC,YAAY3L,KAAK0K,OAAQ,IACpD,CACA,YAAAkB,GACQ5L,KAAK0L,iBACLG,cAAc7L,KAAK0L,gBAE3B,CACA,GAAAI,CAAI/D,EAAM9T,EAAU,CAAC,GAIjB,OAHKA,EAAQ8X,aACT/L,KAAK0K,SAEFX,EAAW/J,KAAKsK,QAAQvC,GAAO9T,EAC1C,CACA,MAAA+X,CAAO/X,EAAU,CAAC,GACTA,EAAQ8X,aACT/L,KAAK0K,SAET,MAAMuB,EAAS,CAAC,EAChB,IAAK,IAAIlE,KAAQ/H,KAAKsK,QAClB2B,EAAOlE,GAAQgC,EAAW/J,KAAKsK,QAAQvC,GAAO9T,GAElD,OAAOgY,CACX,CACA,GAAAC,CAAInE,EAAM7D,EAAOjQ,GAETA,EADAA,EACUuO,OAAO2J,OAAO3J,OAAO2J,OAAO,CAAC,EAAGnM,KAAKuK,mBAAoBtW,GAGzD+L,KAAKuK,kBAEnB,MAAM6B,EAA+B,iBAAVlI,EAAqBA,EAAQrH,KAAKC,UAAUoH,GACvElE,KAAKsK,QAAU9H,OAAO2J,OAAO3J,OAAO2J,OAAO,CAAC,EAAGnM,KAAKsK,SAAU,CAAE,CAACvC,GAAOqE,IACpEpM,KAAKyK,sBACLG,SAASrE,OAASC,EAAcsB,UAAUC,EAAMqE,EAAanY,IAEjE+L,KAAKqL,YAAY,CAAEtD,OAAM7D,QAAOjQ,WACpC,CACA,MAAAoY,CAAOtE,EAAM9T,GACT,MAAMqY,EAAgBrY,EAAUuO,OAAO2J,OAAO3J,OAAO2J,OAAO3J,OAAO2J,OAAO,CAAC,EAAGnM,KAAKuK,mBAAoBtW,GAAU,CAAE4U,QAAS,IAAI9G,KAAK,KAAM,EAAG,EAAG,EAAG,EAAG,GAAIsG,OAAQ,IACnKrI,KAAKsK,QAAU9H,OAAO2J,OAAO,CAAC,EAAGnM,KAAKsK,gBAC/BtK,KAAKsK,QAAQvC,GAChB/H,KAAKyK,sBACLG,SAASrE,OAASC,EAAcsB,UAAUC,EAAM,GAAIuE,IAExDtM,KAAKqL,YAAY,CAAEtD,OAAM7D,WAAOgH,EAAWjX,WAC/C,CACA,iBAAAsY,CAAkBC,GACdxM,KAAKwK,gBAAgB3F,KAAK2H,GACtBxM,KAAKyK,qBAAuD,IAAhCzK,KAAKwK,gBAAgB7V,SAC3B,iBAAX8X,QAAuB,gBAAiBA,OAC/CA,OAAOC,YAAY/O,iBAAiB,SAAUqC,KAAK0K,QAGnD1K,KAAKyL,gBAGjB,CACA,oBAAAkB,CAAqBH,GACjB,MAAMI,EAAM5M,KAAKwK,gBAAgBvD,QAAQuF,GACrCI,GAAO,GACP5M,KAAKwK,gBAAgBqC,OAAOD,EAAK,GAEjC5M,KAAKyK,qBAAuD,IAAhCzK,KAAKwK,gBAAgB7V,SAC3B,iBAAX8X,QAAuB,gBAAiBA,OAC/CA,OAAOC,YAAY9O,oBAAoB,SAAUoC,KAAK0K,QAGtD1K,KAAK4L,eAGjB,ECxeJ,MAAMkB,EAAiB,gBAAoB,IAAI1C,IACzC,SAAE2C,EAAQ,SAAEC,GAAaF,EAED,YA4CH,mBAApBG,iBAAiCA,gBASxC,IAaIC,EAbAC,EAAU,CAAC/W,QAAS,CAAC,GAErBgX,EAAyB,CAAC,EAyB9B,IA6LIC,EAcAC,EACAC,EAbJ,SAASC,IACR,OAAIH,IACJA,EAAqB,EAGnBF,EAAQ/W,QAhNX,WACC,GAAI8W,EAAmC,OAAOE,EAC9CF,EAAoC,EACrC,IAAI7Q,EAAE,mBAAoBoR,QAAQA,OAAOC,IAAI3S,EAAEsB,EAAEoR,OAAOC,IAAI,iBAAiB,MAAMtV,EAAEiE,EAAEoR,OAAOC,IAAI,gBAAgB,MAAMhX,EAAE2F,EAAEoR,OAAOC,IAAI,kBAAkB,MAAMxR,EAAEG,EAAEoR,OAAOC,IAAI,qBAAqB,MAAM7R,EAAEQ,EAAEoR,OAAOC,IAAI,kBAAkB,MAAMvW,EAAEkF,EAAEoR,OAAOC,IAAI,kBAAkB,MAAMlR,EAAEH,EAAEoR,OAAOC,IAAI,iBAAiB,MAAM/V,EAAE0E,EAAEoR,OAAOC,IAAI,oBAAoB,MAAMzX,EAAEoG,EAAEoR,OAAOC,IAAI,yBAAyB,MAAMjW,EAAE4E,EAAEoR,OAAOC,IAAI,qBAAqB,MAAM3R,EAAEM,EAAEoR,OAAOC,IAAI,kBAAkB,MAAMC,EAAEtR,EACteoR,OAAOC,IAAI,uBAAuB,MAAMlW,EAAE6E,EAAEoR,OAAOC,IAAI,cAAc,MAAM/W,EAAE0F,EAAEoR,OAAOC,IAAI,cAAc,MAAMpR,EAAED,EAAEoR,OAAOC,IAAI,eAAe,MAAMvR,EAAEE,EAAEoR,OAAOC,IAAI,qBAAqB,MAAMlZ,EAAE6H,EAAEoR,OAAOC,IAAI,mBAAmB,MAAMtR,EAAEC,EAAEoR,OAAOC,IAAI,eAAe,MAClQ,SAASjX,EAAEG,GAAG,GAAG,iBAAkBA,GAAG,OAAOA,EAAE,CAAC,IAAIsC,EAAEtC,EAAEgX,SAAS,OAAO1U,GAAG,KAAK6B,EAAE,OAAOnE,EAAEA,EAAEkD,MAAQ,KAAKnC,EAAE,KAAK1B,EAAE,KAAKS,EAAE,KAAKmF,EAAE,KAAKK,EAAE,KAAKH,EAAE,OAAOnF,EAAE,QAAQ,OAAOA,EAAEA,GAAGA,EAAEgX,UAAY,KAAKpR,EAAE,KAAK/E,EAAE,KAAKd,EAAE,KAAKa,EAAE,KAAKL,EAAE,OAAOP,EAAE,QAAQ,OAAOsC,GAAG,KAAKd,EAAE,OAAOc,EAAE,CAAC,CAAC,SAAS3B,EAAEX,GAAG,OAAOH,EAAEG,KAAKX,CAAC,CAIvS,OAJwSmX,EAAuBS,UAAUlW,EAAEyV,EAAuBU,eAAe7X,EAAEmX,EAAuBW,gBAAgBvR,EAAE4Q,EAAuBY,gBAAgB7W,EAAEiW,EAAuBa,QAAQlT,EAAEqS,EAAuBc,WAAWzW,EAAE2V,EAAuBe,SAASzX,EAAE0W,EAAuBgB,KAAKzX,EAAEyW,EAAuBiB,KAAK7W,EAAE4V,EAAuBkB,OAAOlW,EACtoBgV,EAAuBmB,SAAS1S,EAAEuR,EAAuBoB,WAAWtS,EAAEkR,EAAuBqB,SAAS1S,EAAEqR,EAAuBsB,YAAY,SAAS9X,GAAG,OAAOW,EAAEX,IAAIH,EAAEG,KAAKe,CAAC,EAAEyV,EAAuBuB,iBAAiBpX,EAAE6V,EAAuBwB,kBAAkB,SAAShY,GAAG,OAAOH,EAAEG,KAAK4F,CAAC,EAAE4Q,EAAuByB,kBAAkB,SAASjY,GAAG,OAAOH,EAAEG,KAAKO,CAAC,EAAEiW,EAAuB0B,UAAU,SAASlY,GAAG,MAAO,iBAAkBA,GAAG,OAAOA,GAAGA,EAAEgX,WAAW7S,CAAC,EAAEqS,EAAuB2B,aAAa,SAASnY,GAAG,OAAOH,EAAEG,KAAKa,CAAC,EAAE2V,EAAuB4B,WAAW,SAASpY,GAAG,OAAOH,EAAEG,KAAKF,CAAC,EAAE0W,EAAuB6B,OAAO,SAASrY,GAAG,OAAOH,EAAEG,KAAKD,CAAC,EAChoByW,EAAuB8B,OAAO,SAAStY,GAAG,OAAOH,EAAEG,KAAKY,CAAC,EAAE4V,EAAuB+B,SAAS,SAASvY,GAAG,OAAOH,EAAEG,KAAKwB,CAAC,EAAEgV,EAAuBgC,WAAW,SAASxY,GAAG,OAAOH,EAAEG,KAAKiF,CAAC,EAAEuR,EAAuBiC,aAAa,SAASzY,GAAG,OAAOH,EAAEG,KAAKsF,CAAC,EAAEkR,EAAuBkC,WAAW,SAAS1Y,GAAG,OAAOH,EAAEG,KAAKmF,CAAC,EACrTqR,EAAuBmC,mBAAmB,SAAS3Y,GAAG,MAAO,iBAAkBA,GAAG,mBAAoBA,GAAGA,IAAIF,GAAGE,IAAIX,GAAGW,IAAIiF,GAAGjF,IAAIsF,GAAGtF,IAAImF,GAAGnF,IAAI+W,GAAG,iBAAkB/W,GAAG,OAAOA,IAAIA,EAAEgX,WAAWjX,GAAGC,EAAEgX,WAAWpW,GAAGZ,EAAEgX,WAAWzW,GAAGP,EAAEgX,WAAWpR,GAAG5F,EAAEgX,WAAWnW,GAAGb,EAAEgX,WAAWzR,GAAGvF,EAAEgX,WAAWpZ,GAAGoC,EAAEgX,WAAWxR,GAAGxF,EAAEgX,WAAWtR,EAAE,EAAE8Q,EAAuBoC,OAAO/Y,EAC3V2W,CACR,CAsMqBqC,IAJWtC,EAAQ/W,OASxC,EAKA,WACC,GAAImX,EAAqC,OAAOD,EAChDC,EAAsC,EAEtC,IAAIJ,EAAUK,IAMVkC,EAAgB,CAClBC,mBAAmB,EACnBC,aAAa,EACbC,cAAc,EACdC,cAAc,EACd3V,aAAa,EACb4V,iBAAiB,EACjBC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,QAAQ,EACRjW,WAAW,EACXH,MAAM,GAEJqW,EAAgB,CAClBpI,MAAM,EACNpT,QAAQ,EACR6B,WAAW,EACX4Z,QAAQ,EACRC,QAAQ,EACRxV,WAAW,EACXyV,OAAO,GASLC,EAAe,CACjB,UAAY,EACZC,SAAS,EACTV,cAAc,EACd3V,aAAa,EACbF,WAAW,EACXH,MAAM,GAEJ2W,EAAe,CAAC,EAIpB,SAASC,EAAWC,GAElB,OAAIxD,EAAQ+B,OAAOyB,GACVJ,EAIFE,EAAaE,EAAoB,WAAMjB,CAChD,CAXAe,EAAatD,EAAQe,YAhBK,CACxB,UAAY,EACZ0C,QAAQ,EACRd,cAAc,EACd3V,aAAa,EACbF,WAAW,GAYbwW,EAAatD,EAAQkB,MAAQkC,EAY7B,IAAIM,EAAiBrO,OAAOqO,eACxBC,EAAsBtO,OAAOsO,oBAC7BC,EAAwBvO,OAAOuO,sBAC/BC,EAA2BxO,OAAOwO,yBAClCC,EAAiBzO,OAAOyO,eACxBC,EAAkB1O,OAAOhM,UAsC7B8W,EArCA,SAAS6D,EAAqBC,EAAiBC,EAAiBC,GAC9D,GAA+B,iBAApBD,EAA8B,CAEvC,GAAIH,EAAiB,CACnB,IAAIK,EAAqBN,EAAeI,GAEpCE,GAAsBA,IAAuBL,GAC/CC,EAAqBC,EAAiBG,EAAoBD,EAE9D,CAEA,IAAI/F,EAAOuF,EAAoBO,GAE3BN,IACFxF,EAAOA,EAAKtQ,OAAO8V,EAAsBM,KAM3C,IAHA,IAAIG,EAAgBd,EAAWU,GAC3BK,EAAgBf,EAAWW,GAEtB/b,EAAI,EAAGA,EAAIiW,EAAK5W,SAAUW,EAAG,CACpC,IAAIyE,EAAMwR,EAAKjW,GAEf,KAAK6a,EAAcpW,IAAUuX,GAAaA,EAAUvX,IAAW0X,GAAiBA,EAAc1X,IAAWyX,GAAiBA,EAAczX,IAAO,CAC7I,IAAI2X,EAAaV,EAAyBK,EAAiBtX,GAE3D,IAEE8W,EAAeO,EAAiBrX,EAAK2X,EACvC,CAAE,MAAOhb,GAAI,CACf,CACF,CACF,CAEA,OAAO0a,CACT,CAID,CAEsCO,GAsDtC,SAASC,EAAWC,EAAc5d,GAC9B,MAAMqW,GAAU,IAAAwH,YAAWhF,GAC3B,IAAKxC,EACD,MAAM,IAAIhQ,MAAM,6BAEpB,MACMyX,EAAavP,OAAO2J,OAAO3J,OAAO2J,OAAO,CAAC,EADzB,CAAEJ,aAAa,IAC8B9X,IAC7D+d,EAAYC,IAAc,IAAAC,WAAS,IAAM5H,EAAQ0B,OAAO+F,KAZrC,oBAAXtF,aACgB,IAApBA,OAAO7B,eAC2B,IAAlC6B,OAAO7B,SAASuH,gBAYvB,IAAAC,kBAAgB,KACZ,SAASC,IACL,MAAMC,EAAahI,EAAQ0B,OAAO+F,IAgBlD,SAAsBF,EAAcS,EAAYC,GAC5C,IAAKV,EACD,OAAO,EAEX,IAAK,IAAIW,KAAcX,EACnB,GAAIS,EAAWE,KAAgBD,EAAWC,GACtC,OAAO,EAGf,OAAO,CACX,EAzBoBC,CAAaZ,GAAgB,KAAMS,EAAYN,IAC/CC,EAAWK,EAEnB,CAEA,OADAhI,EAAQiC,kBAAkB8F,GACnB,KACH/H,EAAQqC,qBAAqB0F,EAAS,CACzC,GACF,CAAC/H,EAAS0H,IAEjB,MAAMU,GAAY,IAAAC,UAAQ,IAAMrI,EAAQ4B,IAAI0G,KAAKtI,IAAU,CAACA,IACtDuI,GAAe,IAAAF,UAAQ,IAAMrI,EAAQ+B,OAAOuG,KAAKtI,IAAU,CAACA,IAC5DwI,GAAgB,IAAAH,UAAQ,IAAMrI,EAAQI,OAAOkI,KAAKtI,IAAU,CAACA,IACnE,MAAO,CAAC0H,EAAYU,EAAWG,EAAcC,EACjD,CChTA,MAlKuB1R,IAQrB,MAAOmF,EAAQmM,EAAWG,GAAgBjB,KACpC,EAACmB,EAAa,EAACC,IAAmBd,EAAAA,EAAAA,WAAkB,IACpD,EAACtO,EAAa,EAACR,IAAmB8O,EAAAA,EAAAA,UAAuB,OACzD,EAAC5P,EAAgB,EAACa,IAAsB+O,EAAAA,EAAAA,UAAyB,OACjE,EAACpP,EAAa,EAACC,IAAmBmP,EAAAA,EAAAA,UAA6B,OAC/D,EAACrO,EAAY,EAACC,IAAkBoO,EAAAA,EAAAA,UACpC3L,EAAO5C,OAAS,CAAC,GAEbf,EAAW,CAAE/C,GAAI,CAAC,EAAGC,GAAI,CAAC,GAChCsB,EAAM6R,SAASpT,GAAG2L,SAAS0H,IACzBtQ,EAAS/C,GAAGqT,EAAQvR,QAAU,CAACuR,EAAQtS,KAAMsS,EAAQve,OAAQue,EAAQvQ,KAAK,IAE5EvB,EAAM6R,SAASnT,GAAG0L,SAAS0H,IACzBtQ,EAAS9C,GAAGoT,EAAQvR,QAAU,CAACuR,EAAQtS,KAAMsS,EAAQve,OAAQue,EAAQvQ,KAAK,IAG5E,MAAMc,EAAarC,EAAM+R,aAAa5e,KAAIuQ,IAAA,IAAEtQ,EAAG4H,GAAE0I,EAAA,OAAK,IAAI/E,EAAMvL,EAAG4H,EAAE,KAC9DsH,EAAYC,GLmDd,SAAuBxM,EAAGmF,EAAGmH,GAClC,MAAME,EAAQ,GACRD,EAAa,GAEnB,IAAK,IAAIpO,EAAI,EAAGA,EAAI6B,EAAG7B,IACrB,IAAK,IAAIyP,EAAI,EAAGA,EAAIzI,EAAGyI,IAAK,CAC1B,IAAIV,GAAY,EAChB,IAAK,IAAI7H,EAAI,EAAGA,EAAIiH,EAAW9O,OAAQ6H,IAAK,CAC1C,MAAM4W,EAAQ3P,EAAWjH,GACrB4W,EAAM5e,IAAMc,GAAK8d,EAAMhX,IAAM2I,IAC/BV,GAAY,EAEhB,CACKA,GACHX,EAAWmB,KAAK,IAAI9E,EAAMzK,EAAGyP,IAE/BpB,EAAMkB,KAAK,CAACvP,EAAGyP,EAAGV,GACpB,CAEF,MAAO,CAACX,EAAYC,EACtB,CKvE8B0P,CAC1BjS,EAAMkS,WACNlS,EAAMmS,SACN9P,GAEIf,ELoED,SAAwB8Q,EAAWC,EAAWC,GAMnD,IAJA,IAAIC,EAAc,CAAC,EACfC,EAAY,CAAC,EACbC,EAAa,EAER9O,EAAI,EAAGA,EAAI0O,EAAW1O,IAC7B,IAAK,IAAIzP,EAAI,EAAGA,EAAIke,EAAWle,IAAK,CAClC,IACIwe,EAAc,EACdC,EAAY,EAChB,GAAIhT,EAAY2S,EAHL,IAAI3T,EAAMzK,EAAGyP,IAGa,CAEnC,GAAU,IAANzP,IAAYyL,EAAY2S,EAAc,IAAI3T,EAAMzK,EAAI,EAAGyP,IAAK,CAC9D+O,EAAc,EACd,IAAK,IAAItX,EAAIlH,EAAI,EAAGkH,EAAIgX,GAClBzS,EAAY2S,EAAc,IAAI3T,EAAMvD,EAAGuI,IADVvI,IAE/BsX,GAAe,EAKfA,EAAc,IAChBH,EAAYE,GAAc,IAAIpT,EAAQnL,EAAGyP,EAAG+O,EAAapU,GAE7D,CAEA,GAAU,IAANqF,IAAYhE,EAAY2S,EAAc,IAAI3T,EAAMzK,EAAGyP,EAAI,IAAK,CAC9DgP,EAAY,EACZ,IAAK,IAAIpc,EAAIoN,EAAI,EAAGpN,EAAI8b,GAClB1S,EAAY2S,EAAc,IAAI3T,EAAMzK,EAAGqC,IADVA,IAE/Boc,GAAa,EAKbA,EAAY,IACdH,EAAUC,GAAc,IAAIpT,EAAQnL,EAAGyP,EAAGgP,EAAWpU,GAEzD,EACImU,EAAc,GAAKC,EAAY,KACjCF,GAAc,EAElB,CACF,CAEF,MAAO,CACLhU,GAAI8T,EACJ7T,GAAI8T,EAER,CKtHgBI,CAAe5S,EAAMkS,WAAYlS,EAAMmS,SAAU7P,GAC/D,SAASK,EAAezD,GAEtB,QAF8B,IAARA,IAAAA,GAAW,GACjCxB,QAAQmV,IAAI,iBAAiBrQ,KACzBA,GAAgBtB,EAAiB,CACnC,MAAM9N,EAAIoP,EAAapP,EACjB4H,EAAIwH,EAAaxH,EACnBkG,EAAgBjC,YAAcX,IAC5BY,GAAY9L,IAAM8N,EAAgB9N,EAAI8N,EAAgB3N,OAAS,EACjEyO,EAAgB,IAAIrD,EAAMvL,EAAI,EAAG4H,IACvBkE,GAAY9L,IAAM8N,EAAgB9N,GAC5C4O,EAAgB,IAAIrD,EAAMvL,EAAI,EAAG4H,KAGjCkG,EAAgBjC,YAAcV,IAC5BW,GAAYlE,IAAMkG,EAAgBlG,EAAIkG,EAAgB3N,OAAS,EACjEyO,EAAgB,IAAIrD,EAAMvL,EAAG4H,EAAI,IACvBkE,GAAYlE,IAAMkG,EAAgBlG,GAC5CgH,EAAgB,IAAIrD,EAAMvL,EAAG4H,EAAI,IAGvC,CACF,CAgCA,MAAM+J,EAAcjB,IAClBpG,QAAQmV,IAAI,WAAW/O,KACvB,MAAMgP,EAAuB,MAAXhP,GAAkC,cAAXA,EACzC,GAAIA,EAAOiP,MAAM,aAAeD,EAAW,CACzCpV,QAAQmV,IAAI,SAASC,KACrB,MAAME,EAAeF,EAAY,GAAKhP,EAChCmP,GAAeH,EAEf/O,EAAiB,IAClBtB,GAEDD,IACFuB,EAAevB,EAAapD,OAAS4T,GAEvCtQ,EAAeqB,GACfuN,EAAU,QAASvN,EAAgB,CACjCoE,SAAU,SACVV,QAAS,IAAI9G,KAAK,QAEpBgC,EAAesQ,EACjB,KAAsB,QAAXnP,EAlDb,WACE,GAAwB,OAApB5C,EAA0B,CAC5BxD,QAAQmV,IAAI,oBACZ,MAAMK,EAAW9R,OAAOkC,OAAOhC,EAAMJ,EAAgBjC,YAC/CkU,EAAiBjS,EAAgBjC,YAAcX,EAAKC,EAAKD,EACzD8U,EAAgBhS,OAAOkC,OAAOhC,EAAM6R,IAE1C,IAAK,IAAIjf,EAAI,EAAGA,EAAIgf,EAAS3f,OAAQW,IAKnC,GAJAwJ,QAAQmV,IAAI,OACZnV,QAAQmV,IAAInR,GACZhE,QAAQmV,IAAI,QACZnV,QAAQmV,IAAIK,EAAShf,IACjBgN,EAAgBpC,OAAOoU,EAAShf,IAAK,CACvC,IAAImf,EACAnf,IAAMgf,EAAS3f,OAAS,GAC1BmK,QAAQmV,IAAI,aACZQ,EAAUH,EAAShf,EAAI,KAEvBwJ,QAAQmV,IAAI,aACZQ,EAAUD,EAAc,IAE1BrR,EAAmBsR,GACnB,MAAMC,EAAQ,IAAI3U,EAAM0U,EAAQjgB,EAAGigB,EAAQrY,GAC3CgH,EAAgBsR,GAChB,KACF,CAEJ,CACF,CAuBI1P,GACUE,EAAS,YACrB,EAEIyP,EAAiBC,IACrBA,EAAMC,iBACND,EAAME,iBAAiB,EAEnBC,EAAeH,IACnBzO,EAAWyO,EAAM7a,KACjB6a,EAAMC,iBACND,EAAME,iBAAiB,EAWzB,OATAE,EAAAA,EAAAA,YAAU,KACRpK,SAASjN,iBAAiB,UAAWgX,GACrC/J,SAASjN,iBAAiB,QAASoX,GAC5B,KACLnK,SAAShN,oBAAoB,UAAW+W,GACxC/J,SAAShN,oBAAoB,QAASmX,EAAY,KAKpD1T,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC4T,EAAAA,EAAM,KACL5T,EAAAA,cAAC6T,EAAAA,EAAG,CAAC7R,MAAM,aAAa8R,SAAU,CAAC,SAAU,cAAe,WAC5D9T,EAAAA,cAACgB,EAAS,CACRgB,MAAOjC,EAAMiC,MACbC,SAAUlC,EAAMkC,SAChBG,WAAYA,EACZC,WAAYA,EACZC,MAAOA,EACPxM,EAAGiK,EAAMkS,WACThX,EAAG8E,EAAMmS,SACT3Q,SAAUA,EACVF,MAAOA,EACPkB,aAAcA,EACdR,gBAAiBA,EACjBN,aAAcA,EACdC,gBAAiBA,EACjBT,gBAAiBA,EACjBa,mBAAoBA,EACpBU,YAAaA,EACbC,eAAgBA,EAChBC,eAAgBA,KAGnBgP,GACC1R,EAAAA,cAACgF,EAAQ,CACPF,WAAYA,EACZiP,oBAAqBA,IAAMpC,GAAgB,KAG/C3R,EAAAA,cAACyE,EAAc,CAACC,gBAAiBA,IAAMiN,GAAiBD,KACvD","sources":["webpack://xwds/./node_modules/camelcase/index.js","webpack://xwds/../src/image-utils.ts","webpack://xwds/../src/components/hooks.ts","webpack://xwds/../src/components/layout-wrapper.tsx","webpack://xwds/../src/components/picture.tsx","webpack://xwds/../src/components/placeholder.tsx","webpack://xwds/../src/components/main-image.tsx","webpack://xwds/../src/components/gatsby-image.server.tsx","webpack://xwds/../src/components/gatsby-image.browser.tsx","webpack://xwds/../src/components/static-image.server.tsx","webpack://xwds/../src/components/static-image.tsx","webpack://xwds/./src/components/xwd_utils.js","webpack://xwds/./src/components/xwd.js","webpack://xwds/./src/components/keyboard.tsx","webpack://xwds/./node_modules/universal-cookie/esm/index.mjs","webpack://xwds/./node_modules/react-cookie/esm/index.mjs","webpack://xwds/./src/components/crossword.tsx"],"sourcesContent":["'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","export const AC = \"ac\";\nexport const DN = \"dn\";\nexport const UP = \"up\";\nexport const DOWN = \"down\";\nexport const LEFT = \"left\";\nexport const RIGHT = \"right\";\nexport const DIRNAME = { ac: \"Across\", dn: \"Down\" };\n\nexport class Coord {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  equals(other) {\n    return other !== null && this.x === other.x && this.y === other.y;\n  }\n  nextCell(direction, forwards = true) {\n    const increment = forwards ? 1 : -1;\n    if (direction === AC) {\n      return new Coord(this.x + increment, this.y);\n    } else {\n      return new Coord(this.x, this.y + increment);\n    }\n  }\n  str() {\n    return `${this.x},${this.y}`;\n  }\n}\n\nexport class ClueSeq {\n  constructor(x, y, length, direction) {\n    this.x = x;\n    this.y = y;\n    this.length = length;\n    this.direction = direction;\n  }\n  equals(other) {\n    return (\n      other !== null &&\n      this.x === other.x &&\n      this.y === other.y &&\n      this.length === other.length &&\n      this.direction === other.direction\n    );\n  }\n}\n\nexport class ClueDetails {\n  constructor(num, direction, clue, letters, releaseDate) {\n    this.num = num;\n    this.direction = direction;\n    this.clue = clue;\n    this.letters = letters;\n    this.releaseDate = releaseDate;\n  }\n  equals(other) {\n    return (\n      other !== null &&\n      this.num === other.num &&\n      this.direction === other.direction\n    );\n  }\n}\n\nexport function cellInArray(array, cell) {\n  for (var k = 0; k < array.length; k++) {\n    const { x, y } = array[k];\n    if (x === cell.x && y === cell.y) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function cellInClue(clue, cell) {\n  if (clue.direction === AC) {\n    for (var i = clue.x; i < clue.x + clue.length; i++) {\n      if (cell.x === i && cell.y === clue.y) {\n        return true;\n      }\n    }\n  }\n  if (clue.direction === DN) {\n    for (var i = clue.y; i < clue.y + clue.length; i++) {\n      if (cell.x == clue.x && cell.y == i) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport function getWhiteCells(h, v, blackCells) {\n  const cells = [];\n  const whiteCells = [];\n  /* Make array of white cells. */\n  for (let i = 0; i < h; i++) {\n    for (let j = 0; j < v; j++) {\n      let blackCell = false;\n      for (var k = 0; k < blackCells.length; k++) {\n        const bCell = blackCells[k];\n        if (bCell.x === i && bCell.y === j) {\n          blackCell = true;\n        }\n      }\n      if (!blackCell) {\n        whiteCells.push(new Coord(i, j));\n      }\n      cells.push([i, j, blackCell]);\n    }\n  }\n  return [whiteCells, cells];\n}\n\nexport function figureOutClues(acSquares, dnSquares, whiteSquares) {\n  /* Collect clues and write in numbers */\n  var acrossClues = {};\n  var downClues = {};\n  var clueNumber = 1;\n  /* loop from right to left then top to bottom */\n  for (var j = 0; j < dnSquares; j++) {\n    for (var i = 0; i < acSquares; i++) {\n      var cell = new Coord(i, j);\n      var acrossCount = 0;\n      var downCount = 0;\n      if (cellInArray(whiteSquares, cell)) {\n        /* Start of across clue */\n        if (i === 0 || !cellInArray(whiteSquares, new Coord(i - 1, j))) {\n          acrossCount = 1;\n          for (var k = i + 1; k < acSquares; k++) {\n            if (cellInArray(whiteSquares, new Coord(k, j))) {\n              acrossCount += 1;\n            } else {\n              break;\n            }\n          }\n          if (acrossCount > 1) {\n            acrossClues[clueNumber] = new ClueSeq(i, j, acrossCount, AC);\n          }\n        }\n        /* Start of down clue */\n        if (j === 0 || !cellInArray(whiteSquares, new Coord(i, j - 1))) {\n          downCount = 1;\n          for (var l = j + 1; l < dnSquares; l++) {\n            if (cellInArray(whiteSquares, new Coord(i, l))) {\n              downCount += 1;\n            } else {\n              break;\n            }\n          }\n          if (downCount > 1) {\n            downClues[clueNumber] = new ClueSeq(i, j, downCount, DN);\n          }\n        }\n        if (acrossCount > 1 || downCount > 1) {\n          clueNumber += 1;\n        }\n      }\n    }\n  }\n  return {\n    ac: acrossClues,\n    dn: downClues,\n  };\n}\n","import React from \"react\";\nimport {\n  AC,\n  DN,\n  UP,\n  DOWN,\n  LEFT,\n  RIGHT,\n  DIRNAME,\n  Coord,\n  cellInClue,\n  ClueDetails,\n} from \"./xwd_utils\";\n\nexport function FilledCell(props) {\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        width: props.h + 1 + \"px\",\n        height: props.v + 1 + \"px\",\n        top: props.y + \"px\",\n        left: props.x + \"px\",\n      }}\n      className=\"black-cell\"\n    ></div>\n  );\n}\nexport function EmptyCell(props) {\n  let backgroundColor = props.selected\n    ? \"cyan\"\n    : props.highlight\n      ? \"lightblue\"\n      : \"lightgray\";\n\n  return (\n    <>\n      <div\n        style={{\n          position: \"absolute\",\n          width: props.h - 1 + \"px\",\n          height: props.v - 1 + \"px\",\n          top: props.y + \"px\",\n          left: props.x + \"px\",\n          backgroundColor: backgroundColor,\n        }}\n        onClick={props.onClick}\n        className=\"white-cell\"\n      >\n        {props.contents}\n      </div>\n      <div\n        className=\"clue-number\"\n        style={{\n          position: \"absolute\",\n          width: props.h - 1 + \"px\",\n          height: props.v - 1 + \"px\",\n          top: props.y + \"px\",\n          left: props.x + 2 + \"px\",\n        }}\n      >\n        {props.number}\n      </div>\n    </>\n  );\n}\n\nexport function CurrentClue(props) {\n  let text = \"No clue selected.\";\n  if (props.clue !== null) {\n    const { num, direction, clue, letters, releaseDate } = props.clue;\n    const now = new Date();\n    const words =\n      now.getMonth() === 11 && now.getDate() > releaseDate\n        ? clue\n        : `Released on December ${releaseDate}.`;\n    text = `${num} ${direction}. ${words} (${letters})`;\n  }\n  return (\n    <div style={{ padding: \"15px\" }}>\n      <span\n        style={{\n          fontWeight: \"bold\",\n          padding: \"5px\",\n          margin: \"5px\",\n          backgroundColor: \"lightblue\",\n        }}\n      >\n        {text}\n      </span>\n    </div>\n  );\n}\n\nexport function Crossword(props) {\n  if (props.selectedClueSeq != null) {\n    for (const [num, clueSeq] of Object.entries(\n      props.clues[props.selectedClueSeq.direction]\n    )) {\n      const [clue, letters, date] = props.clueSeqs[clueSeq.direction][num];\n      const clueDets = new ClueDetails(\n        num,\n        clueSeq.direction,\n        clue,\n        letters,\n        date\n      );\n      if (\n        clueSeq.equals(props.selectedClueSeq) &&\n        !clueDets.equals(props.selectedClue)\n      ) {\n        props.setSelectedClue(clueDets);\n      }\n    }\n  }\n  function crosswordOnClick(num, dir) {\n    const clickedClue = props.clues[dir][num];\n    props.setSelectedClueSeq(clickedClue);\n    props.setSelectedCell(new Coord(clickedClue.x, clickedClue.y));\n  }\n  return (\n    <>\n      <h2>{props.title}</h2>\n      <p>{props.preamble}</p>\n      <CurrentClue clue={props.selectedClue}></CurrentClue>\n      <div style={{ margin: \"5px\" }} id=\"xwd-container\">\n        <Grid\n          blackCells={props.blackCells}\n          whiteCells={props.whiteCells}\n          cells={props.cells}\n          h={props.h}\n          v={props.h}\n          clues={props.clues}\n          selectedClue={props.selectedClueSeq}\n          setSelectedClue={props.setSelectedClueSeq}\n          selectedCell={props.selectedCell}\n          setSelectedCell={props.setSelectedCell}\n          filledCells={props.filledCells}\n          setFilledCells={props.setFilledCells}\n          selectNextCell={props.selectNextCell}\n        ></Grid>\n      </div>\n      <ClueBox\n        direction={AC}\n        clues={props.clueSeqs[AC]}\n        onClick={crosswordOnClick}\n        selectedClue={props.selectedClue}\n      />\n      <ClueBox\n        direction={DN}\n        clues={props.clueSeqs[DN]}\n        onClick={crosswordOnClick}\n        selectedClue={props.selectedClue}\n      />\n    </>\n  );\n}\n\nexport function Grid(props) {\n  const cellHeight = 28;\n  const cellWidth = 28;\n\n  function cellIsBlack(cell) {\n    for (let i = 0; i < props.blackCells.length; i++) {\n      const blackCell = props.blackCells[i];\n      if (cell.x === blackCell.x && cell.y === blackCell.y) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function fillCell(i, j, contents) {\n    const newFilledCells = {\n      ...props.filledCells,\n    };\n    newFilledCells[`${i},${j}`] = contents;\n    props.setFilledCells(newFilledCells);\n  }\n\n  const clueCells = {};\n  for (let [key, value] of Object.entries(props.clues[AC])) {\n    clueCells[key] = new Coord(value.x, value.y);\n  }\n  for (let [key, value] of Object.entries(props.clues[DN])) {\n    clueCells[key] = new Coord(value.x, value.y);\n  }\n  function doHighlight(justClicked) {\n    if (\n      justClicked.x < 0 ||\n      justClicked.x >= props.h ||\n      justClicked.y < 0 ||\n      justClicked.y >= props.v\n    ) {\n      return;\n    }\n    if (cellIsBlack(justClicked)) {\n      return;\n    }\n    props.setSelectedCell(justClicked);\n    let matched = false;\n    for (const cell of props.whiteCells) {\n      if (justClicked.equals(cell)) {\n        matched = true;\n      }\n    }\n    if (!matched) {\n      return;\n    }\n    const highlighted = [];\n    let acHighlighted = null;\n    let dnHighlighted = null;\n    for (let value of Object.values(props.clues[AC])) {\n      if (cellInClue(value, justClicked)) {\n        acHighlighted = value;\n        // If this clue is the highlighted one already carry on.\n        if (props.selectedClue && !props.selectedClue.equals(acHighlighted)) {\n          props.setSelectedClue(acHighlighted);\n          return;\n        } else {\n          break;\n        }\n      }\n    }\n    for (let value of Object.values(props.clues[DN])) {\n      if (cellInClue(value, justClicked)) {\n        dnHighlighted = value;\n        props.setSelectedClue(dnHighlighted);\n        return;\n      }\n    }\n  }\n\n  function moveCell(direction) {\n    if (direction === UP) {\n      doHighlight(props.selectedCell.nextCell(DN, false));\n    } else if (direction === DOWN) {\n      doHighlight(props.selectedCell.nextCell(DN, true));\n    } else if (direction === LEFT) {\n      doHighlight(props.selectedCell.nextCell(AC, false));\n    } else if (direction === RIGHT) {\n      doHighlight(props.selectedCell.nextCell(AC, true));\n    }\n  }\n\n  let highlightedCells = [];\n  if (props.selectedClue != null) {\n    const { x, y, length, direction } = props.selectedClue;\n    if (direction == AC) {\n      for (let i = x; i < x + length; i++) {\n        highlightedCells.push(new Coord(i, y));\n      }\n    } else {\n      for (let i = y; i < y + length; i++) {\n        highlightedCells.push(new Coord(x, i));\n      }\n    }\n  }\n\n  for (let k = 0; k < props.cells.length; k++) {\n    const [x, y] = props.cells[k];\n    let number = null;\n    for (let [key, value] of Object.entries(clueCells)) {\n      if (value.x === x && value.y === y) {\n        number = key;\n      }\n    }\n    props.cells[k].push(number);\n    let highlight = false;\n    for (let l = 0; l < highlightedCells.length; l++) {\n      if (x === highlightedCells[l].x && y === highlightedCells[l].y) {\n        highlight = true;\n      }\n    }\n    props.cells[k].push(highlight);\n  }\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        width: props.h * cellWidth + \"px\",\n        height: props.v * cellHeight + \"px\",\n      }}\n    >\n      {props.cells.map(([i, j, blackCell, number, highlight]) => {\n        if (blackCell) {\n          return (\n            <FilledCell\n              h={cellWidth}\n              v={cellHeight}\n              x={i * cellWidth}\n              y={j * cellHeight}\n              key={i + props.h * j}\n            />\n          );\n        } else {\n          return (\n            <EmptyCell\n              h={cellWidth}\n              v={cellHeight}\n              x={i * cellWidth}\n              y={j * cellHeight}\n              key={i + props.h * j}\n              number={number}\n              highlight={highlight}\n              selected={\n                props.selectedCell !== null &&\n                i === props.selectedCell.x &&\n                j === props.selectedCell.y\n              }\n              onClick={(e) => doHighlight(new Coord(i, j))}\n              selectNextCell={props.selectNextCell}\n              selectNextClue={props.selectNextClue}\n              moveCell={moveCell}\n              contents={props.filledCells[`${i},${j}`]}\n              setContents={(letter) => fillCell(i, j, letter)}\n            />\n          );\n        }\n      })}\n    </div>\n  );\n}\n\nexport function ClueBox(props) {\n  function clueBoxOnClick(number) {\n    props.onClick(number, props.direction);\n  }\n  let num = null;\n  let direction = null;\n  if (props.selectedClue !== null) {\n    num = props.selectedClue.num;\n    direction = props.selectedClue.direction;\n  }\n  return (\n    <div\n      style={{\n        fontWeight: \"bold\",\n        width: \"300px\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n        margin: \"5px\",\n      }}\n    >\n      <div style={{ border: \"1px solid black\", padding: \"5px\" }}>\n        {DIRNAME[props.direction]}\n      </div>\n      {Object.entries(props.clues).map((entry) => {\n        const [number, vals] = entry;\n        const selected = props.direction === direction && number === num;\n        const [clueText, len, releaseDate] = vals;\n\n        const now = new Date();\n        const text =\n          now.getMonth() === 10 && now.getDate() > releaseDate\n            ? clueText\n            : `Released on December ${releaseDate}.`;\n        function onClick() {\n          clueBoxOnClick(number);\n        }\n        return (\n          <Clue\n            key={number}\n            number={number}\n            clue={text}\n            len={len}\n            onClick={onClick}\n            selected={selected}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport function Clue(props) {\n  let classNames = \"clue\";\n  if (props.selected) {\n    classNames = `${classNames} selected`;\n  }\n  return (\n    <div className={classNames} onClick={props.onClick}>\n      {props.number}. {props.clue} ({props.len})\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./keyboard.css\";\nimport { StaticImage } from \"gatsby-plugin-image\";\n\nexport const KeyboardButton = (props: {\n  keyboardPressed: () => void;\n}): JSX.Element => {\n  return (\n    <div id=\"keyboard-button\" onClick={props.keyboardPressed}>\n      <StaticImage alt=\"keyboard\" src=\"../images/keyboard.png\" />\n    </div>\n  );\n};\n\nexport const KeyboardKey = (props: {\n  letter: string;\n  keyPressed: (letter: string) => void;\n}) => {\n  return (\n    <div\n      onClick={() => props.keyPressed(props.letter)}\n      className=\"keyboard-key\"\n    >\n      {props.letter}\n    </div>\n  );\n};\n\nexport const BackspaceKey = (props: {\n  keyPressed: (letter: string) => void;\n}) => {\n  return (\n    <div\n      onClick={() => props.keyPressed(\"Backspace\")}\n      className=\"keyboard-key backspace\"\n    >\n      {\"\\u232B\"}\n    </div>\n  );\n};\n\nexport const Keyboard = (props: {\n  hideKeyboardPressed: () => void;\n  keyPressed: (letter: string) => void;\n}): JSX.Element => {\n  return (\n    <div id=\"keyboard\">\n      <div className=\"keyboard-row\">\n        <KeyboardKey letter=\"q\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"w\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"e\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"r\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"t\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"y\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"u\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"i\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"o\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"p\" keyPressed={props.keyPressed} />\n      </div>\n      <div className=\"keyboard-row\">\n        <KeyboardKey letter=\"a\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"s\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"d\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"f\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"g\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"h\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"j\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"k\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"l\" keyPressed={props.keyPressed} />\n      </div>\n      <div className=\"keyboard-row\">\n        <div className=\"keyboard-spacer\" />\n        <KeyboardKey letter=\"z\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"x\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"c\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"v\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"b\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"n\" keyPressed={props.keyPressed} />\n        <KeyboardKey letter=\"m\" keyPressed={props.keyPressed} />\n        <BackspaceKey keyPressed={props.keyPressed} />\n      </div>\n    </div>\n  );\n};\n","var cookie = {};\n\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\nvar hasRequiredCookie;\n\nfunction requireCookie () {\n\tif (hasRequiredCookie) return cookie;\n\thasRequiredCookie = 1;\n\n\t/**\n\t * Module exports.\n\t * @public\n\t */\n\n\tcookie.parse = parse;\n\tcookie.serialize = serialize;\n\n\t/**\n\t * Module variables.\n\t * @private\n\t */\n\n\tvar __toString = Object.prototype.toString;\n\tvar __hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t/**\n\t * RegExp to match cookie-name in RFC 6265 sec 4.1.1\n\t * This refers out to the obsoleted definition of token in RFC 2616 sec 2.2\n\t * which has been replaced by the token definition in RFC 7230 appendix B.\n\t *\n\t * cookie-name       = token\n\t * token             = 1*tchar\n\t * tchar             = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" /\n\t *                     \"*\" / \"+\" / \"-\" / \".\" / \"^\" / \"_\" /\n\t *                     \"`\" / \"|\" / \"~\" / DIGIT / ALPHA\n\t */\n\n\tvar cookieNameRegExp = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/;\n\n\t/**\n\t * RegExp to match cookie-value in RFC 6265 sec 4.1.1\n\t *\n\t * cookie-value      = *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n\t * cookie-octet      = %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n\t *                     ; US-ASCII characters excluding CTLs,\n\t *                     ; whitespace DQUOTE, comma, semicolon,\n\t *                     ; and backslash\n\t */\n\n\tvar cookieValueRegExp = /^(\"?)[\\u0021\\u0023-\\u002B\\u002D-\\u003A\\u003C-\\u005B\\u005D-\\u007E]*\\1$/;\n\n\t/**\n\t * RegExp to match domain-value in RFC 6265 sec 4.1.1\n\t *\n\t * domain-value      = <subdomain>\n\t *                     ; defined in [RFC1034], Section 3.5, as\n\t *                     ; enhanced by [RFC1123], Section 2.1\n\t * <subdomain>       = <label> | <subdomain> \".\" <label>\n\t * <label>           = <let-dig> [ [ <ldh-str> ] <let-dig> ]\n\t *                     Labels must be 63 characters or less.\n\t *                     'let-dig' not 'letter' in the first char, per RFC1123\n\t * <ldh-str>         = <let-dig-hyp> | <let-dig-hyp> <ldh-str>\n\t * <let-dig-hyp>     = <let-dig> | \"-\"\n\t * <let-dig>         = <letter> | <digit>\n\t * <letter>          = any one of the 52 alphabetic characters A through Z in\n\t *                     upper case and a through z in lower case\n\t * <digit>           = any one of the ten digits 0 through 9\n\t *\n\t * Keep support for leading dot: https://github.com/jshttp/cookie/issues/173\n\t *\n\t * > (Note that a leading %x2E (\".\"), if present, is ignored even though that\n\t * character is not permitted, but a trailing %x2E (\".\"), if present, will\n\t * cause the user agent to ignore the attribute.)\n\t */\n\n\tvar domainValueRegExp = /^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;\n\n\t/**\n\t * RegExp to match path-value in RFC 6265 sec 4.1.1\n\t *\n\t * path-value        = <any CHAR except CTLs or \";\">\n\t * CHAR              = %x01-7F\n\t *                     ; defined in RFC 5234 appendix B.1\n\t */\n\n\tvar pathValueRegExp = /^[\\u0020-\\u003A\\u003D-\\u007E]*$/;\n\n\t/**\n\t * Parse a cookie header.\n\t *\n\t * Parse the given cookie header string into an object\n\t * The object has the various cookies as keys(names) => values\n\t *\n\t * @param {string} str\n\t * @param {object} [opt]\n\t * @return {object}\n\t * @public\n\t */\n\n\tfunction parse(str, opt) {\n\t  if (typeof str !== 'string') {\n\t    throw new TypeError('argument str must be a string');\n\t  }\n\n\t  var obj = {};\n\t  var len = str.length;\n\t  // RFC 6265 sec 4.1.1, RFC 2616 2.2 defines a cookie name consists of one char minimum, plus '='.\n\t  if (len < 2) return obj;\n\n\t  var dec = (opt && opt.decode) || decode;\n\t  var index = 0;\n\t  var eqIdx = 0;\n\t  var endIdx = 0;\n\n\t  do {\n\t    eqIdx = str.indexOf('=', index);\n\t    if (eqIdx === -1) break; // No more cookie pairs.\n\n\t    endIdx = str.indexOf(';', index);\n\n\t    if (endIdx === -1) {\n\t      endIdx = len;\n\t    } else if (eqIdx > endIdx) {\n\t      // backtrack on prior semicolon\n\t      index = str.lastIndexOf(';', eqIdx - 1) + 1;\n\t      continue;\n\t    }\n\n\t    var keyStartIdx = startIndex(str, index, eqIdx);\n\t    var keyEndIdx = endIndex(str, eqIdx, keyStartIdx);\n\t    var key = str.slice(keyStartIdx, keyEndIdx);\n\n\t    // only assign once\n\t    if (!__hasOwnProperty.call(obj, key)) {\n\t      var valStartIdx = startIndex(str, eqIdx + 1, endIdx);\n\t      var valEndIdx = endIndex(str, endIdx, valStartIdx);\n\n\t      if (str.charCodeAt(valStartIdx) === 0x22 /* \" */ && str.charCodeAt(valEndIdx - 1) === 0x22 /* \" */) {\n\t        valStartIdx++;\n\t        valEndIdx--;\n\t      }\n\n\t      var val = str.slice(valStartIdx, valEndIdx);\n\t      obj[key] = tryDecode(val, dec);\n\t    }\n\n\t    index = endIdx + 1;\n\t  } while (index < len);\n\n\t  return obj;\n\t}\n\n\tfunction startIndex(str, index, max) {\n\t  do {\n\t    var code = str.charCodeAt(index);\n\t    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index;\n\t  } while (++index < max);\n\t  return max;\n\t}\n\n\tfunction endIndex(str, index, min) {\n\t  while (index > min) {\n\t    var code = str.charCodeAt(--index);\n\t    if (code !== 0x20 /*   */ && code !== 0x09 /* \\t */) return index + 1;\n\t  }\n\t  return min;\n\t}\n\n\t/**\n\t * Serialize data into a cookie header.\n\t *\n\t * Serialize a name value pair into a cookie string suitable for\n\t * http headers. An optional options object specifies cookie parameters.\n\t *\n\t * serialize('foo', 'bar', { httpOnly: true })\n\t *   => \"foo=bar; httpOnly\"\n\t *\n\t * @param {string} name\n\t * @param {string} val\n\t * @param {object} [opt]\n\t * @return {string}\n\t * @public\n\t */\n\n\tfunction serialize(name, val, opt) {\n\t  var enc = (opt && opt.encode) || encodeURIComponent;\n\n\t  if (typeof enc !== 'function') {\n\t    throw new TypeError('option encode is invalid');\n\t  }\n\n\t  if (!cookieNameRegExp.test(name)) {\n\t    throw new TypeError('argument name is invalid');\n\t  }\n\n\t  var value = enc(val);\n\n\t  if (!cookieValueRegExp.test(value)) {\n\t    throw new TypeError('argument val is invalid');\n\t  }\n\n\t  var str = name + '=' + value;\n\t  if (!opt) return str;\n\n\t  if (null != opt.maxAge) {\n\t    var maxAge = Math.floor(opt.maxAge);\n\n\t    if (!isFinite(maxAge)) {\n\t      throw new TypeError('option maxAge is invalid')\n\t    }\n\n\t    str += '; Max-Age=' + maxAge;\n\t  }\n\n\t  if (opt.domain) {\n\t    if (!domainValueRegExp.test(opt.domain)) {\n\t      throw new TypeError('option domain is invalid');\n\t    }\n\n\t    str += '; Domain=' + opt.domain;\n\t  }\n\n\t  if (opt.path) {\n\t    if (!pathValueRegExp.test(opt.path)) {\n\t      throw new TypeError('option path is invalid');\n\t    }\n\n\t    str += '; Path=' + opt.path;\n\t  }\n\n\t  if (opt.expires) {\n\t    var expires = opt.expires;\n\n\t    if (!isDate(expires) || isNaN(expires.valueOf())) {\n\t      throw new TypeError('option expires is invalid');\n\t    }\n\n\t    str += '; Expires=' + expires.toUTCString();\n\t  }\n\n\t  if (opt.httpOnly) {\n\t    str += '; HttpOnly';\n\t  }\n\n\t  if (opt.secure) {\n\t    str += '; Secure';\n\t  }\n\n\t  if (opt.partitioned) {\n\t    str += '; Partitioned';\n\t  }\n\n\t  if (opt.priority) {\n\t    var priority = typeof opt.priority === 'string'\n\t      ? opt.priority.toLowerCase() : opt.priority;\n\n\t    switch (priority) {\n\t      case 'low':\n\t        str += '; Priority=Low';\n\t        break\n\t      case 'medium':\n\t        str += '; Priority=Medium';\n\t        break\n\t      case 'high':\n\t        str += '; Priority=High';\n\t        break\n\t      default:\n\t        throw new TypeError('option priority is invalid')\n\t    }\n\t  }\n\n\t  if (opt.sameSite) {\n\t    var sameSite = typeof opt.sameSite === 'string'\n\t      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n\t    switch (sameSite) {\n\t      case true:\n\t        str += '; SameSite=Strict';\n\t        break;\n\t      case 'lax':\n\t        str += '; SameSite=Lax';\n\t        break;\n\t      case 'strict':\n\t        str += '; SameSite=Strict';\n\t        break;\n\t      case 'none':\n\t        str += '; SameSite=None';\n\t        break;\n\t      default:\n\t        throw new TypeError('option sameSite is invalid');\n\t    }\n\t  }\n\n\t  return str;\n\t}\n\n\t/**\n\t * URL-decode string value. Optimized to skip native call when no %.\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\n\tfunction decode (str) {\n\t  return str.indexOf('%') !== -1\n\t    ? decodeURIComponent(str)\n\t    : str\n\t}\n\n\t/**\n\t * Determine if value is a Date.\n\t *\n\t * @param {*} val\n\t * @private\n\t */\n\n\tfunction isDate (val) {\n\t  return __toString.call(val) === '[object Date]';\n\t}\n\n\t/**\n\t * Try decoding a string using a decoding function.\n\t *\n\t * @param {string} str\n\t * @param {function} decode\n\t * @private\n\t */\n\n\tfunction tryDecode(str, decode) {\n\t  try {\n\t    return decode(str);\n\t  } catch (e) {\n\t    return str;\n\t  }\n\t}\n\treturn cookie;\n}\n\nvar cookieExports = requireCookie();\n\nfunction hasDocumentCookie() {\n    const testingValue = typeof global === 'undefined'\n        ? undefined\n        : global.TEST_HAS_DOCUMENT_COOKIE;\n    if (typeof testingValue === 'boolean') {\n        return testingValue;\n    }\n    // Can we get/set cookies on document.cookie?\n    return typeof document === 'object' && typeof document.cookie === 'string';\n}\nfunction parseCookies(cookies) {\n    if (typeof cookies === 'string') {\n        return cookieExports.parse(cookies);\n    }\n    else if (typeof cookies === 'object' && cookies !== null) {\n        return cookies;\n    }\n    else {\n        return {};\n    }\n}\nfunction readCookie(value, options = {}) {\n    const cleanValue = cleanupCookieValue(value);\n    if (!options.doNotParse) {\n        try {\n            return JSON.parse(cleanValue);\n        }\n        catch (e) {\n            // At least we tried\n        }\n    }\n    // Ignore clean value if we failed the deserialization\n    // It is not relevant anymore to trim those values\n    return value;\n}\nfunction cleanupCookieValue(value) {\n    // express prepend j: before serializing a cookie\n    if (value && value[0] === 'j' && value[1] === ':') {\n        return value.substr(2);\n    }\n    return value;\n}\n\nclass Cookies {\n    constructor(cookies, defaultSetOptions = {}) {\n        this.changeListeners = [];\n        this.HAS_DOCUMENT_COOKIE = false;\n        this.update = () => {\n            if (!this.HAS_DOCUMENT_COOKIE) {\n                return;\n            }\n            const previousCookies = this.cookies;\n            this.cookies = cookieExports.parse(document.cookie);\n            this._checkChanges(previousCookies);\n        };\n        const domCookies = typeof document === 'undefined' ? '' : document.cookie;\n        this.cookies = parseCookies(cookies || domCookies);\n        this.defaultSetOptions = defaultSetOptions;\n        this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n    }\n    _emitChange(params) {\n        for (let i = 0; i < this.changeListeners.length; ++i) {\n            this.changeListeners[i](params);\n        }\n    }\n    _checkChanges(previousCookies) {\n        const names = new Set(Object.keys(previousCookies).concat(Object.keys(this.cookies)));\n        names.forEach((name) => {\n            if (previousCookies[name] !== this.cookies[name]) {\n                this._emitChange({\n                    name,\n                    value: readCookie(this.cookies[name]),\n                });\n            }\n        });\n    }\n    _startPolling() {\n        this.pollingInterval = setInterval(this.update, 300);\n    }\n    _stopPolling() {\n        if (this.pollingInterval) {\n            clearInterval(this.pollingInterval);\n        }\n    }\n    get(name, options = {}) {\n        if (!options.doNotUpdate) {\n            this.update();\n        }\n        return readCookie(this.cookies[name], options);\n    }\n    getAll(options = {}) {\n        if (!options.doNotUpdate) {\n            this.update();\n        }\n        const result = {};\n        for (let name in this.cookies) {\n            result[name] = readCookie(this.cookies[name], options);\n        }\n        return result;\n    }\n    set(name, value, options) {\n        if (options) {\n            options = Object.assign(Object.assign({}, this.defaultSetOptions), options);\n        }\n        else {\n            options = this.defaultSetOptions;\n        }\n        const stringValue = typeof value === 'string' ? value : JSON.stringify(value);\n        this.cookies = Object.assign(Object.assign({}, this.cookies), { [name]: stringValue });\n        if (this.HAS_DOCUMENT_COOKIE) {\n            document.cookie = cookieExports.serialize(name, stringValue, options);\n        }\n        this._emitChange({ name, value, options });\n    }\n    remove(name, options) {\n        const finalOptions = (options = Object.assign(Object.assign(Object.assign({}, this.defaultSetOptions), options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\n        this.cookies = Object.assign({}, this.cookies);\n        delete this.cookies[name];\n        if (this.HAS_DOCUMENT_COOKIE) {\n            document.cookie = cookieExports.serialize(name, '', finalOptions);\n        }\n        this._emitChange({ name, value: undefined, options });\n    }\n    addChangeListener(callback) {\n        this.changeListeners.push(callback);\n        if (this.HAS_DOCUMENT_COOKIE && this.changeListeners.length === 1) {\n            if (typeof window === 'object' && 'cookieStore' in window) {\n                window.cookieStore.addEventListener('change', this.update);\n            }\n            else {\n                this._startPolling();\n            }\n        }\n    }\n    removeChangeListener(callback) {\n        const idx = this.changeListeners.indexOf(callback);\n        if (idx >= 0) {\n            this.changeListeners.splice(idx, 1);\n        }\n        if (this.HAS_DOCUMENT_COOKIE && this.changeListeners.length === 0) {\n            if (typeof window === 'object' && 'cookieStore' in window) {\n                window.cookieStore.removeEventListener('change', this.update);\n            }\n            else {\n                this._stopPolling();\n            }\n        }\n    }\n}\n\nexport { Cookies as default };\n","import Cookies from 'universal-cookie';\nexport { default as Cookies } from 'universal-cookie';\nimport * as React from 'react';\nimport { useContext, useState, useLayoutEffect, useMemo } from 'react';\n\nconst CookiesContext = React.createContext(new Cookies());\nconst { Provider, Consumer } = CookiesContext;\n\nclass CookiesProvider extends React.Component {\n    constructor(props) {\n        super(props);\n        if (props.cookies) {\n            this.cookies = props.cookies;\n        }\n        else {\n            this.cookies = new Cookies(undefined, props.defaultSetOptions);\n        }\n    }\n    render() {\n        return React.createElement(Provider, { value: this.cookies }, this.props.children);\n    }\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar reactIs = {exports: {}};\n\nvar reactIs_production_min = {};\n\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactIs_production_min;\n\nfunction requireReactIs_production_min () {\n\tif (hasRequiredReactIs_production_min) return reactIs_production_min;\n\thasRequiredReactIs_production_min = 1;\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\n\tSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\n\tfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;\n\treactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(a){return A(a)||z(a)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(a){return z(a)===k};reactIs_production_min.isContextProvider=function(a){return z(a)===h};reactIs_production_min.isElement=function(a){return \"object\"===typeof a&&null!==a&&a.$$typeof===c};reactIs_production_min.isForwardRef=function(a){return z(a)===n};reactIs_production_min.isFragment=function(a){return z(a)===e};reactIs_production_min.isLazy=function(a){return z(a)===t};\n\treactIs_production_min.isMemo=function(a){return z(a)===r};reactIs_production_min.isPortal=function(a){return z(a)===d};reactIs_production_min.isProfiler=function(a){return z(a)===g};reactIs_production_min.isStrictMode=function(a){return z(a)===f};reactIs_production_min.isSuspense=function(a){return z(a)===p};\n\treactIs_production_min.isValidElementType=function(a){return \"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};reactIs_production_min.typeOf=z;\n\treturn reactIs_production_min;\n}\n\nvar reactIs_development = {};\n\n/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar hasRequiredReactIs_development;\n\nfunction requireReactIs_development () {\n\tif (hasRequiredReactIs_development) return reactIs_development;\n\thasRequiredReactIs_development = 1;\n\n\n\n\tif (process.env.NODE_ENV !== \"production\") {\n\t  (function() {\n\n\t// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n\t// nor polyfill, then a plain number is used for performance.\n\tvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\tvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n\tvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n\tvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n\tvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n\tvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n\tvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n\tvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n\t// (unstable) APIs that have been removed. Can we remove the symbols?\n\n\tvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n\tvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n\tvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n\tvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n\tvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n\tvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n\tvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\tvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n\tvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n\tvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n\tvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n\tfunction isValidElementType(type) {\n\t  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n\t  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n\t}\n\n\tfunction typeOf(object) {\n\t  if (typeof object === 'object' && object !== null) {\n\t    var $$typeof = object.$$typeof;\n\n\t    switch ($$typeof) {\n\t      case REACT_ELEMENT_TYPE:\n\t        var type = object.type;\n\n\t        switch (type) {\n\t          case REACT_ASYNC_MODE_TYPE:\n\t          case REACT_CONCURRENT_MODE_TYPE:\n\t          case REACT_FRAGMENT_TYPE:\n\t          case REACT_PROFILER_TYPE:\n\t          case REACT_STRICT_MODE_TYPE:\n\t          case REACT_SUSPENSE_TYPE:\n\t            return type;\n\n\t          default:\n\t            var $$typeofType = type && type.$$typeof;\n\n\t            switch ($$typeofType) {\n\t              case REACT_CONTEXT_TYPE:\n\t              case REACT_FORWARD_REF_TYPE:\n\t              case REACT_LAZY_TYPE:\n\t              case REACT_MEMO_TYPE:\n\t              case REACT_PROVIDER_TYPE:\n\t                return $$typeofType;\n\n\t              default:\n\t                return $$typeof;\n\t            }\n\n\t        }\n\n\t      case REACT_PORTAL_TYPE:\n\t        return $$typeof;\n\t    }\n\t  }\n\n\t  return undefined;\n\t} // AsyncMode is deprecated along with isAsyncMode\n\n\tvar AsyncMode = REACT_ASYNC_MODE_TYPE;\n\tvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n\tvar ContextConsumer = REACT_CONTEXT_TYPE;\n\tvar ContextProvider = REACT_PROVIDER_TYPE;\n\tvar Element = REACT_ELEMENT_TYPE;\n\tvar ForwardRef = REACT_FORWARD_REF_TYPE;\n\tvar Fragment = REACT_FRAGMENT_TYPE;\n\tvar Lazy = REACT_LAZY_TYPE;\n\tvar Memo = REACT_MEMO_TYPE;\n\tvar Portal = REACT_PORTAL_TYPE;\n\tvar Profiler = REACT_PROFILER_TYPE;\n\tvar StrictMode = REACT_STRICT_MODE_TYPE;\n\tvar Suspense = REACT_SUSPENSE_TYPE;\n\tvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n\tfunction isAsyncMode(object) {\n\t  {\n\t    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n\t      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n\t      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n\t    }\n\t  }\n\n\t  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n\t}\n\tfunction isConcurrentMode(object) {\n\t  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n\t}\n\tfunction isContextConsumer(object) {\n\t  return typeOf(object) === REACT_CONTEXT_TYPE;\n\t}\n\tfunction isContextProvider(object) {\n\t  return typeOf(object) === REACT_PROVIDER_TYPE;\n\t}\n\tfunction isElement(object) {\n\t  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n\t}\n\tfunction isForwardRef(object) {\n\t  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n\t}\n\tfunction isFragment(object) {\n\t  return typeOf(object) === REACT_FRAGMENT_TYPE;\n\t}\n\tfunction isLazy(object) {\n\t  return typeOf(object) === REACT_LAZY_TYPE;\n\t}\n\tfunction isMemo(object) {\n\t  return typeOf(object) === REACT_MEMO_TYPE;\n\t}\n\tfunction isPortal(object) {\n\t  return typeOf(object) === REACT_PORTAL_TYPE;\n\t}\n\tfunction isProfiler(object) {\n\t  return typeOf(object) === REACT_PROFILER_TYPE;\n\t}\n\tfunction isStrictMode(object) {\n\t  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n\t}\n\tfunction isSuspense(object) {\n\t  return typeOf(object) === REACT_SUSPENSE_TYPE;\n\t}\n\n\treactIs_development.AsyncMode = AsyncMode;\n\treactIs_development.ConcurrentMode = ConcurrentMode;\n\treactIs_development.ContextConsumer = ContextConsumer;\n\treactIs_development.ContextProvider = ContextProvider;\n\treactIs_development.Element = Element;\n\treactIs_development.ForwardRef = ForwardRef;\n\treactIs_development.Fragment = Fragment;\n\treactIs_development.Lazy = Lazy;\n\treactIs_development.Memo = Memo;\n\treactIs_development.Portal = Portal;\n\treactIs_development.Profiler = Profiler;\n\treactIs_development.StrictMode = StrictMode;\n\treactIs_development.Suspense = Suspense;\n\treactIs_development.isAsyncMode = isAsyncMode;\n\treactIs_development.isConcurrentMode = isConcurrentMode;\n\treactIs_development.isContextConsumer = isContextConsumer;\n\treactIs_development.isContextProvider = isContextProvider;\n\treactIs_development.isElement = isElement;\n\treactIs_development.isForwardRef = isForwardRef;\n\treactIs_development.isFragment = isFragment;\n\treactIs_development.isLazy = isLazy;\n\treactIs_development.isMemo = isMemo;\n\treactIs_development.isPortal = isPortal;\n\treactIs_development.isProfiler = isProfiler;\n\treactIs_development.isStrictMode = isStrictMode;\n\treactIs_development.isSuspense = isSuspense;\n\treactIs_development.isValidElementType = isValidElementType;\n\treactIs_development.typeOf = typeOf;\n\t  })();\n\t}\n\treturn reactIs_development;\n}\n\nvar hasRequiredReactIs;\n\nfunction requireReactIs () {\n\tif (hasRequiredReactIs) return reactIs.exports;\n\thasRequiredReactIs = 1;\n\n\tif (process.env.NODE_ENV === 'production') {\n\t  reactIs.exports = requireReactIs_production_min();\n\t} else {\n\t  reactIs.exports = requireReactIs_development();\n\t}\n\treturn reactIs.exports;\n}\n\nvar hoistNonReactStatics_cjs;\nvar hasRequiredHoistNonReactStatics_cjs;\n\nfunction requireHoistNonReactStatics_cjs () {\n\tif (hasRequiredHoistNonReactStatics_cjs) return hoistNonReactStatics_cjs;\n\thasRequiredHoistNonReactStatics_cjs = 1;\n\n\tvar reactIs = requireReactIs();\n\n\t/**\n\t * Copyright 2015, Yahoo! Inc.\n\t * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n\t */\n\tvar REACT_STATICS = {\n\t  childContextTypes: true,\n\t  contextType: true,\n\t  contextTypes: true,\n\t  defaultProps: true,\n\t  displayName: true,\n\t  getDefaultProps: true,\n\t  getDerivedStateFromError: true,\n\t  getDerivedStateFromProps: true,\n\t  mixins: true,\n\t  propTypes: true,\n\t  type: true\n\t};\n\tvar KNOWN_STATICS = {\n\t  name: true,\n\t  length: true,\n\t  prototype: true,\n\t  caller: true,\n\t  callee: true,\n\t  arguments: true,\n\t  arity: true\n\t};\n\tvar FORWARD_REF_STATICS = {\n\t  '$$typeof': true,\n\t  render: true,\n\t  defaultProps: true,\n\t  displayName: true,\n\t  propTypes: true\n\t};\n\tvar MEMO_STATICS = {\n\t  '$$typeof': true,\n\t  compare: true,\n\t  defaultProps: true,\n\t  displayName: true,\n\t  propTypes: true,\n\t  type: true\n\t};\n\tvar TYPE_STATICS = {};\n\tTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\n\tTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\n\tfunction getStatics(component) {\n\t  // React v16.11 and below\n\t  if (reactIs.isMemo(component)) {\n\t    return MEMO_STATICS;\n\t  } // React v16.12 and above\n\n\n\t  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n\t}\n\n\tvar defineProperty = Object.defineProperty;\n\tvar getOwnPropertyNames = Object.getOwnPropertyNames;\n\tvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\tvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\tvar getPrototypeOf = Object.getPrototypeOf;\n\tvar objectPrototype = Object.prototype;\n\tfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n\t  if (typeof sourceComponent !== 'string') {\n\t    // don't hoist over string (html) components\n\t    if (objectPrototype) {\n\t      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n\t      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n\t        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n\t      }\n\t    }\n\n\t    var keys = getOwnPropertyNames(sourceComponent);\n\n\t    if (getOwnPropertySymbols) {\n\t      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n\t    }\n\n\t    var targetStatics = getStatics(targetComponent);\n\t    var sourceStatics = getStatics(sourceComponent);\n\n\t    for (var i = 0; i < keys.length; ++i) {\n\t      var key = keys[i];\n\n\t      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n\t        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n\t        try {\n\t          // Avoid failures from read-only properties\n\t          defineProperty(targetComponent, key, descriptor);\n\t        } catch (e) {}\n\t      }\n\t    }\n\t  }\n\n\t  return targetComponent;\n\t}\n\n\thoistNonReactStatics_cjs = hoistNonReactStatics;\n\treturn hoistNonReactStatics_cjs;\n}\n\nvar hoistNonReactStatics_cjsExports = requireHoistNonReactStatics_cjs();\nvar hoistStatics = /*@__PURE__*/getDefaultExportFromCjs(hoistNonReactStatics_cjsExports);\n\nfunction withCookies(WrappedComponent) {\n    // @ts-ignore\n    const name = WrappedComponent.displayName || WrappedComponent.name;\n    class CookieWrapper extends React.Component {\n        constructor() {\n            super(...arguments);\n            this.onChange = () => {\n                // Make sure to update children with new values\n                this.forceUpdate();\n            };\n        }\n        listen() {\n            this.props.cookies.addChangeListener(this.onChange);\n        }\n        unlisten(cookies) {\n            (cookies || this.props.cookies).removeChangeListener(this.onChange);\n        }\n        componentDidMount() {\n            this.listen();\n        }\n        componentDidUpdate(prevProps) {\n            if (prevProps.cookies !== this.props.cookies) {\n                this.unlisten(prevProps.cookies);\n                this.listen();\n            }\n        }\n        componentWillUnmount() {\n            this.unlisten();\n        }\n        render() {\n            const _a = this.props, { forwardedRef, cookies } = _a, restProps = __rest(_a, [\"forwardedRef\", \"cookies\"]);\n            const allCookies = cookies.getAll({ doNotUpdate: true });\n            return (React.createElement(WrappedComponent, Object.assign({}, restProps, { ref: forwardedRef, cookies: cookies, allCookies: allCookies })));\n        }\n    }\n    CookieWrapper.displayName = `withCookies(${name})`;\n    CookieWrapper.WrappedComponent = WrappedComponent;\n    const ForwardedComponent = React.forwardRef((props, ref) => {\n        return (React.createElement(Consumer, null, (cookies) => (React.createElement(CookieWrapper, Object.assign({ cookies: cookies }, props, { forwardedRef: ref })))));\n    });\n    ForwardedComponent.displayName = CookieWrapper.displayName;\n    ForwardedComponent.WrappedComponent = CookieWrapper.WrappedComponent;\n    return hoistStatics(ForwardedComponent, WrappedComponent);\n}\n\nfunction isInBrowser() {\n    return (typeof window !== 'undefined' &&\n        typeof window.document !== 'undefined' &&\n        typeof window.document.createElement !== 'undefined');\n}\n\nfunction useCookies(dependencies, options) {\n    const cookies = useContext(CookiesContext);\n    if (!cookies) {\n        throw new Error('Missing <CookiesProvider>');\n    }\n    const defaultOptions = { doNotUpdate: true };\n    const getOptions = Object.assign(Object.assign({}, defaultOptions), options);\n    const [allCookies, setCookies] = useState(() => cookies.getAll(getOptions));\n    if (isInBrowser()) {\n        useLayoutEffect(() => {\n            function onChange() {\n                const newCookies = cookies.getAll(getOptions);\n                if (shouldUpdate(dependencies || null, newCookies, allCookies)) {\n                    setCookies(newCookies);\n                }\n            }\n            cookies.addChangeListener(onChange);\n            return () => {\n                cookies.removeChangeListener(onChange);\n            };\n        }, [cookies, allCookies]);\n    }\n    const setCookie = useMemo(() => cookies.set.bind(cookies), [cookies]);\n    const removeCookie = useMemo(() => cookies.remove.bind(cookies), [cookies]);\n    const updateCookies = useMemo(() => cookies.update.bind(cookies), [cookies]);\n    return [allCookies, setCookie, removeCookie, updateCookies];\n}\nfunction shouldUpdate(dependencies, newCookies, oldCookies) {\n    if (!dependencies) {\n        return true;\n    }\n    for (let dependency of dependencies) {\n        if (newCookies[dependency] !== oldCookies[dependency]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport { CookiesProvider, useCookies, withCookies };\n","import React, { useEffect, useState } from \"react\";\nimport Layout from \"./layout\";\nimport SEO from \"./seo\";\nimport { Crossword } from \"./xwd\";\nimport {\n  AC,\n  ClueDetails,\n  ClueSeq,\n  Coord,\n  DN,\n  figureOutClues,\n  getWhiteCells,\n} from \"./xwd_utils\";\nimport { Keyboard, KeyboardButton } from \"./keyboard\";\nimport { useCookies } from \"react-cookie\";\n\nconst CrosswordPage = (props: {\n  title: string;\n  preamble: string;\n  acrossSize: number;\n  downSize: number;\n  blackSquares: any;\n  rawClues: any;\n}): JSX.Element => {\n  const [cookie, setCookie, removeCookie] = useCookies();\n  const [showKeyboard, setShowKeyboard] = useState<boolean>(false);\n  const [selectedCell, setSelectedCell] = useState<Coord | null>(null);\n  const [selectedClueSeq, setSelectedClueSeq] = useState<ClueSeq | null>(null);\n  const [selectedClue, setSelectedClue] = useState<ClueDetails | null>(null);\n  const [filledCells, setFilledCells] = useState<Record<string, string>>(\n    cookie.cells || {}\n  );\n  const clueSeqs = { ac: {}, dn: {} };\n  props.rawClues.ac.forEach((element) => {\n    clueSeqs.ac[element.number] = [element.clue, element.length, element.date];\n  });\n  props.rawClues.dn.forEach((element) => {\n    clueSeqs.dn[element.number] = [element.clue, element.length, element.date];\n  });\n\n  const blackCells = props.blackSquares.map(([x, y]) => new Coord(x, y));\n  const [whiteCells, cells] = getWhiteCells(\n    props.acrossSize,\n    props.downSize,\n    blackCells\n  );\n  const clues = figureOutClues(props.acrossSize, props.downSize, whiteCells);\n  function selectNextCell(forwards = true) {\n    console.log(`selected cell ${selectedCell}`);\n    if (selectedCell && selectedClueSeq) {\n      const x = selectedCell.x;\n      const y = selectedCell.y;\n      if (selectedClueSeq.direction === AC) {\n        if (forwards && x !== selectedClueSeq.x + selectedClueSeq.length - 1) {\n          setSelectedCell(new Coord(x + 1, y));\n        } else if (!forwards && x !== selectedClueSeq.x) {\n          setSelectedCell(new Coord(x - 1, y));\n        }\n      }\n      if (selectedClueSeq.direction === DN) {\n        if (forwards && y !== selectedClueSeq.y + selectedClueSeq.length - 1) {\n          setSelectedCell(new Coord(x, y + 1));\n        } else if (!forwards && y !== selectedClueSeq.y) {\n          setSelectedCell(new Coord(x, y - 1));\n        }\n      }\n    }\n  }\n\n  function selectNextClue(): void {\n    if (selectedClueSeq !== null) {\n      console.log(\"select next clue\");\n      const dirClues = Object.values(clues[selectedClueSeq.direction]);\n      const otherDirection = selectedClueSeq.direction === AC ? DN : AC;\n      const otherDirClues = Object.values(clues[otherDirection]);\n\n      for (let i = 0; i < dirClues.length; i++) {\n        console.log(\"sel\");\n        console.log(selectedClue);\n        console.log(\"iter\");\n        console.log(dirClues[i]);\n        if (selectedClueSeq.equals(dirClues[i])) {\n          let newClue;\n          if (i !== dirClues.length - 1) {\n            console.log(\"setting 1\");\n            newClue = dirClues[i + 1];\n          } else {\n            console.log(\"setting 2\");\n            newClue = otherDirClues[0];\n          }\n          setSelectedClueSeq(newClue);\n          const coord = new Coord(newClue.x, newClue.y);\n          setSelectedCell(coord);\n          break;\n        }\n      }\n    }\n  }\n\n  const keyPressed = (letter: string) => {\n    console.log(`pressed ${letter}`);\n    const backspace = letter === \"\\u232B\" || letter === \"Backspace\";\n    if (letter.match(/^[a-z]$/i) || backspace) {\n      console.log(`selne ${backspace}`);\n      const cellContents = backspace ? \"\" : letter;\n      const nextForward = !backspace;\n\n      const newFilledCells = {\n        ...filledCells,\n      };\n      if (selectedCell) {\n        newFilledCells[selectedCell.str()] = cellContents;\n      }\n      setFilledCells(newFilledCells);\n      setCookie(\"cells\", newFilledCells, {\n        sameSite: \"strict\",\n        expires: new Date(9999),\n      });\n      selectNextCell(nextForward);\n    } else if (letter === \"Tab\") {\n      selectNextClue();\n    } else if ((letter = \"ArrowRight\")) {\n    }\n  };\n  const handleKeyDown = (event: KeyboardEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n  const handleKeyUp = (event: KeyboardEvent) => {\n    keyPressed(event.key);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    document.addEventListener(\"keyup\", handleKeyUp);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  });\n\n  return (\n    <>\n      <Layout>\n        <SEO title=\"Crosswords\" keywords={[`gatsby`, `application`, `react`]} />\n        <Crossword\n          title={props.title}\n          preamble={props.preamble}\n          blackCells={blackCells}\n          whiteCells={whiteCells}\n          cells={cells}\n          h={props.acrossSize}\n          v={props.downSize}\n          clueSeqs={clueSeqs}\n          clues={clues}\n          selectedCell={selectedCell}\n          setSelectedCell={setSelectedCell}\n          selectedClue={selectedClue}\n          setSelectedClue={setSelectedClue}\n          selectedClueSeq={selectedClueSeq}\n          setSelectedClueSeq={setSelectedClueSeq}\n          filledCells={filledCells}\n          setFilledCells={setFilledCells}\n          selectNextCell={selectNextCell}\n        />\n      </Layout>\n      {showKeyboard && (\n        <Keyboard\n          keyPressed={keyPressed}\n          hideKeyboardPressed={() => setShowKeyboard(false)}\n        />\n      )}\n      <KeyboardButton keyboardPressed={() => setShowKeyboard(!showKeyboard)} />\n    </>\n  );\n};\n\nexport default CrosswordPage;\n"],"names":["UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","source","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","TypeError","pascalCase","preserveConsecutiveUppercase","map","x","trim","filter","length","join","toLowerCase","locale","string","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","test","slice","preserveCamelCase","replace","lastIndex","m1","charAt","_","identifier","m","postProcess","module","exports","W","hasNativeLazyLoadSupport","HTMLImageElement","prototype","z","e","t","a","s","width","height","className","style","P","h","loading","shouldLoad","opacity","A","r","n","o","l","backgroundColor","position","top","left","bottom","right","objectFit","objectPosition","d","transition","H","F","_ref5","layout","paddingTop","maxWidth","display","alt","role","src","G","children","u","V","B","U","srcSet","decoding","Y","fallback","sources","sizes","_ref6","media","type","key","X","propTypes","isRequired","displayName","J","Z","Error","K","Q","ee","te","ae","_len","arguments","_key","c","apply","concat","ie","image","se","re","ne","Set","oe","le","de","as","class","g","onStartLoad","p","onLoad","onError","f","w","y","b","v","E","k","S","M","N","$","JSON","stringify","images","I","then","_ref7","renderImageToString","swapPlaceholderImage","current","querySelector","complete","wasCached","setTimeout","removeAttribute","addEventListener","removeEventListener","add","has","_ref8","innerHTML","isLoading","isLoaded","requestAnimationFrame","cancelAnimationFrame","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","ce","he","ue","__imageData","__error","console","warn","ge","imgClassName","imgStyle","placeholder","pe","_len2","_key2","me","fe","we","AC","DN","DIRNAME","ac","dn","Coord","this","_proto","equals","other","nextCell","direction","forwards","increment","str","ClueSeq","ClueDetails","num","clue","letters","releaseDate","cellInArray","array","cell","cellInClue","FilledCell","props","React","EmptyCell","selected","highlight","onClick","contents","number","CurrentClue","text","now","Date","getMonth","getDate","padding","fontWeight","margin","Crossword","selectedClueSeq","clueSeq","Object","entries","clues","date","clueSeqs","clueDets","selectedClue","setSelectedClue","crosswordOnClick","dir","clickedClue","setSelectedClueSeq","setSelectedCell","title","preamble","id","Grid","blackCells","whiteCells","cells","selectedCell","filledCells","setFilledCells","selectNextCell","ClueBox","clueCells","value","doHighlight","justClicked","blackCell","cellIsBlack","matched","acHighlighted","dnHighlighted","values","moveCell","highlightedCells","push","_ref","j","selectNextClue","setContents","letter","newFilledCells","fillCell","verticalAlign","border","entry","vals","clueText","len","Clue","clueBoxOnClick","classNames","KeyboardButton","keyboardPressed","StaticImage","require","KeyboardKey","keyPressed","BackspaceKey","Keyboard","hasRequiredCookie","cookie","cookieExports","parse","opt","obj","dec","decode","index","eqIdx","endIdx","indexOf","lastIndexOf","keyStartIdx","startIndex","keyEndIdx","endIndex","__hasOwnProperty","call","valStartIdx","valEndIdx","charCodeAt","val","tryDecode","serialize","name","enc","encode","encodeURIComponent","cookieNameRegExp","cookieValueRegExp","maxAge","Math","floor","isFinite","domain","domainValueRegExp","path","pathValueRegExp","expires","__toString","isDate","isNaN","valueOf","toUTCString","httpOnly","secure","partitioned","priority","sameSite","toString","hasOwnProperty","max","code","min","decodeURIComponent","requireCookie","readCookie","cleanValue","substr","cleanupCookieValue","doNotParse","Cookies","constructor","cookies","defaultSetOptions","changeListeners","HAS_DOCUMENT_COOKIE","update","previousCookies","document","_checkChanges","domCookies","parseCookies","testingValue","global","undefined","TEST_HAS_DOCUMENT_COOKIE","hasDocumentCookie","_emitChange","params","keys","forEach","_startPolling","pollingInterval","setInterval","_stopPolling","clearInterval","get","doNotUpdate","getAll","result","set","assign","stringValue","remove","finalOptions","addChangeListener","callback","window","cookieStore","removeChangeListener","idx","splice","CookiesContext","Provider","Consumer","SuppressedError","hasRequiredReactIs_production_min","reactIs","reactIs_production_min","hasRequiredReactIs","hoistNonReactStatics_cjs","hasRequiredHoistNonReactStatics_cjs","requireReactIs","Symbol","for","q","$$typeof","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","requireReactIs_production_min","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","render","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","requireHoistNonReactStatics_cjs","useCookies","dependencies","useContext","getOptions","allCookies","setCookies","useState","createElement","useLayoutEffect","onChange","newCookies","oldCookies","dependency","shouldUpdate","setCookie","useMemo","bind","removeCookie","updateCookies","showKeyboard","setShowKeyboard","rawClues","element","blackSquares","bCell","getWhiteCells","acrossSize","downSize","acSquares","dnSquares","whiteSquares","acrossClues","downClues","clueNumber","acrossCount","downCount","figureOutClues","log","backspace","match","cellContents","nextForward","dirClues","otherDirection","otherDirClues","newClue","coord","handleKeyDown","event","preventDefault","stopPropagation","handleKeyUp","useEffect","Layout","SEO","keywords","hideKeyboardPressed"],"sourceRoot":""}