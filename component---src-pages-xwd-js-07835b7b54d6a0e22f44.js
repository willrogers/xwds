(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"PZd/":function(e,l,t){var n=t("P8UN"),r=t("ys0W")(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},cxuS:function(e,l,t){var n=t("P8UN"),r=t("ys0W")(!1);n(n.S,"Object",{values:function(e){return r(e)}})},urm0:function(e){e.exports=JSON.parse('{"data":{"allXwd2019Json":{"edges":[{"node":{"across_size":13,"down_size":13,"black_squares":[[0,0],[0,2],[0,4],[0,6],[0,7],[0,8],[0,10],[0,12],[1,0],[1,7],[1,12],[2,0],[2,2],[2,4],[2,6],[2,8],[2,10],[2,12],[3,0],[4,0],[4,2],[4,4],[4,6],[4,8],[4,10],[4,11],[5,5],[6,0],[6,2],[6,3],[6,4],[6,6],[6,8],[6,9],[6,10],[6,12],[7,7],[8,1],[8,2],[8,4],[8,6],[8,8],[8,10],[8,12],[9,12],[10,0],[10,2],[10,4],[10,6],[10,8],[10,10],[10,12],[11,0],[11,5],[11,12],[12,0],[12,2],[12,4],[12,5],[12,6],[12,8],[12,10],[12,12]],"clues":{"ac":[{"number":"2","clue":"COB","length":3,"date":4},{"number":"4","clue":"UPADAISY","length":8,"date":2},{"number":"7","clue":"EDDY","length":4,"date":15},{"number":"9","clue":"PRANCE","length":6,"date":1},{"number":"10","clue":"RELISH","length":6,"date":3},{"number":"11","clue":"COMET","length":5,"date":8},{"number":"12","clue":"ASIDE","length":5,"date":13},{"number":"15","clue":"BLITZ","length":5,"date":22},{"number":"16","clue":"ENTRY","length":6,"date":20},{"number":"19","clue":"READUP","length":6,"date":12},{"number":"20","clue":"UPENDS","length":6,"date":23},{"number":"21","clue":"EDGE","length":4,"date":14},{"number":"22","clue":"FLIPSIDE","length":8,"date":9},{"number":"23","clue":"SAY","length":3,"date":17}],"dn":[{"number":"1","clue":"VIXEN","length":5,"date":21},{"number":"2","clue":"CYPRESS","length":7,"date":13},{"number":"3","clue":"BELLY DANCERS","length":12,"date":3},{"number":"5","clue":"PARDON","length":6,"date":6},{"number":"6","clue":"DINNER LADIES","length":12,"date":18},{"number":"8","clue":"DASH","length":4,"date":16},{"number":"13","clue":"STUPEFY","length":7,"date":5},{"number":"14","clue":"ERODED","length":6,"date":9},{"number":"17","clue":"NERD","length":4,"date":10},{"number":"18","clue":"CUPID","length":5,"date":19}]}}}]}}}')},v0Fs:function(e,l,t){"use strict";t.r(l);var n=t("urm0"),r=t("q1tI"),c=t.n(r),o=t("Bl7J"),u=t("vrFN"),s=(t("m210"),t("4DPX"),t("YbXK"),t("cFtU"),t("pJf4"),t("q8oJ"),t("cxuS"),t("rzGZ"),t("Dq+y"),t("8npG"),t("PZd/"),t("Ll4R"),"ac"),a="dn",i={ac:"Across",dn:"Down"},d=function(){function e(e,l){this.x=e,this.y=l}var l=e.prototype;return l.equals=function(e){return null!==e&&this.x===e.x&&this.y===e.y},l.nextCell=function(l,t){void 0===t&&(t=!0);var n=t?1:-1;return l===s?new e(this.x+n,this.y):new e(this.x,this.y+n)},e}(),h=function(){function e(e,l,t,n){this.x=e,this.y=l,this.length=t,this.direction=n}return e.prototype.equals=function(e){return null!==e&&this.x===e.x&&this.y===e.y&&this.length===e.length&&this.direction===e.direction},e}(),f=function(){function e(e,l,t,n,r){this.num=e,this.direction=l,this.clue=t,this.letters=n,this.releaseDate=r}return e.prototype.equals=function(e){return null!==e&&this.num===e.num&&this.direction===e.direction},e}();function g(e,l){for(var t=0;t<e.length;t++){var n=e[t],r=n.x,c=n.y;if(r===l.x&&c===l.y)return!0}return!1}function v(e,l){if(e.direction===s)for(var t=e.x;t<e.x+e.length;t++)if(l.x===t&&l.y===e.y)return!0;if(e.direction===a)for(t=e.y;t<e.y+e.length;t++)if(l.x==e.x&&l.y==t)return!0;return!1}t("Wbzz");function m(e,l){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,l){if(!e)return;if("string"==typeof e)return C(e,l);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,l)}(e))||l&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function C(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,n=new Array(l);t<l;t++)n[t]=e[t];return n}function b(e){return c.a.createElement("div",{style:{position:"absolute",width:e.h+1+"px",height:e.v+1+"px",top:e.y+"px",left:e.x+"px"},className:"black-cell"})}function y(e){var l=Object(r.useState)(""),t=l[0],n=l[1],o=e.selected?"cyan":e.highlight?"lightblue":"lightgray";return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{style:{position:"absolute",width:e.h-1+"px",height:e.v-1+"px",top:e.y+"px",left:e.x+"px",backgroundColor:o},ref:function(l){return l&&e.selected&&l.focus()},onClick:e.onClick,className:"white-cell",type:"text",onKeyUp:function(l){console.log("pressed "+l.key),l.key.match(/^[a-z]$/i)?(n(l.key),e.selectNextCell()):"Backspace"===l.key?(n(""),e.selectNextCell(!1)):"Delete"===l.key?n(""):"Tab"===l.key?e.selectNextClue():"ArrowUp"===l.key?e.moveCell("up"):"ArrowDown"===l.key?e.moveCell("down"):"ArrowLeft"===l.key?e.moveCell("left"):"ArrowRight"===l.key&&e.moveCell("right")},value:t}),c.a.createElement("div",{className:"clue-number",style:{position:"absolute",width:e.h-1+"px",height:e.v-1+"px",top:e.y+"px",left:e.x+2+"px"}},e.number))}function p(e){var l="No clue selected.";if(null!==e.clue){var t=e.clue;l=t.num+" "+t.direction+". "+t.clue}return c.a.createElement(c.a.Fragment,null,l)}function x(e){var l=Object(r.useState)(null),t=l[0],n=l[1],o=Object(r.useState)(null),u=o[0],i=o[1],v=Object(r.useState)(null),m=v[0],C=v[1];console.log("selected clue then clueSeq"),console.log(u),console.log(t);var b=function(e,l,t){for(var n=[],r=[],c=0;c<e;c++)for(var o=0;o<l;o++){for(var u=!1,s=0;s<t.length;s++){var a=t[s];a.x===c&&a.y===o&&(u=!0)}u||r.push(new d(c,o)),n.push([c,o,u])}return[r,n]}(e.v,e.h,e.blackCells),y=b[0],x=b[1],S=function(e,l,t){for(var n=[],r=[],c=1,o=0;o<l;o++)for(var u=0;u<e;u++){var i=0,f=0;if(g(t,new d(u,o))){if(0===u||!g(t,new d(u-1,o))){i=1;for(var v=u+1;v<e&&g(t,new d(v,o));v++)i+=1;i>1&&(n[c]=new h(u,o,i,s))}if(0===o||!g(t,new d(u,o-1))){f=1;for(var m=o+1;m<l&&g(t,new d(u,m));m++)f+=1;f>1&&(r[c]=new h(u,o,f,a))}(i>1||f>1)&&(c+=1)}}return{ac:n,dn:r}}(e.h,e.v,y);if(null!=t)for(var k=0,D=Object.entries(S[t.direction]);k<D.length;k++){var N=D[k],A=N[0],O=N[1],j=e.clues[O.direction][A],P=j[0],q=j[1],I=j[2],R=new f(A,O.direction,P,q,I);O.equals(t)&&!R.equals(u)&&i(R)}function U(e,l){console.log("crossword onClick() "+l+" "+e);var t=S[l][e];n(t),C(new d(t.x,t.y))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"A crossword"),c.a.createElement("p",null,"First crossword."),c.a.createElement(p,{clue:u}),c.a.createElement("div",{id:"xwd-container"},c.a.createElement(w,{blackCells:e.blackCells,whiteCells:y,cells:x,h:e.h,v:e.h,clues:S,selectedClue:t,setSelectedClue:n,selectedCell:m,setSelectedCell:C})),c.a.createElement(E,{direction:s,clues:e.clues.ac,onClick:U,selectedClue:u}),c.a.createElement(E,{direction:a,clues:e.clues.dn,onClick:U,selectedClue:u}))}function w(e){for(var l={},t=0,n=Object.entries(e.clues.ac);t<n.length;t++){var r=n[t],o=r[0],u=r[1];l[o]=new d(u.x,u.y)}for(var i=0,h=Object.entries(e.clues.dn);i<h.length;i++){var f=h[i],g=f[0],C=f[1];l[g]=new d(C.x,C.y)}function p(l){if(console.log("just clicked"),console.log(l),!(l.x<0||l.x>=e.h||l.y<0||l.y>=e.v||function(l){for(var t=0;t<e.blackCells.length;t++){var n=e.blackCells[t];if(l.x===n.x&&l.y===n.y)return!0}return!1}(l))){e.setSelectedCell(l);for(var t,n=!1,r=m(e.whiteCells);!(t=r()).done;){var c=t.value;l.equals(c)&&(n=!0)}if(n){for(var o=null,u=null,s=0,a=Object.values(e.clues.ac);s<a.length;s++){var i=a[s];if(v(i,l)){if(o=i,e.selectedClue&&!e.selectedClue.equals(o))return console.log("setiting selected clue to"),console.log(o),void e.setSelectedClue(o);break}}for(var d=0,h=Object.values(e.clues.dn);d<h.length;d++){var f=h[d];if(v(f,l))return u=f,console.log("setiting selected clue to"),console.log(u),void e.setSelectedClue(u)}}}}function x(l){void 0===l&&(l=!0);var t=e.selectedCell,n=t.x,r=t.y;e.selectedClue.direction===s&&(l&&n!==e.selectedClue.x+e.selectedClue.length-1?e.setSelectedCell(new d(n+1,r)):l||n===e.selectedClue.x||e.setSelectedCell(new d(n-1,r))),e.selectedClue.direction===a&&(l&&r!==e.selectedClue.y+e.selectedClue.length-1?e.setSelectedCell(new d(n,r+1)):l||r===e.selectedClue.y||e.setSelectedCell(new d(n,r-1)))}function w(l){"up"===l?p(e.selectedCell.nextCell(a,!1)):"down"===l?p(e.selectedCell.nextCell(a,!0)):"left"===l?p(e.selectedCell.nextCell(s,!1)):"right"===l&&p(e.selectedCell.nextCell(s,!0))}function E(){console.log("select next clue"),console.log(e.selectedClue.direction);var l=Object.values(e.clues[e.selectedClue.direction]),t=e.selectedClue.direction===s?a:s,n=Object.values(e.clues[t]);console.log(t);for(var r=0;r<l.length;r++)if(console.log("sel"),console.log(e.selectedClue),console.log("iter"),console.log(l[r]),e.selectedClue.equals(l[r])){var c=void 0;r!==l.length-1?(console.log("setting 1"),c=l[r+1]):(console.log("setting 2"),c=n[0]),e.setSelectedClue(c);var o=new d(c.x,c.y);e.setSelectedCell(o);break}}var S=[];if(null!=e.selectedClue){var k=e.selectedClue,D=k.x,N=k.y,A=k.length,O=k.direction;if(console.log(D),console.log(N),console.log(A),console.log(O),O==s)for(var j=D;j<D+A;j++)S.push(new d(j,N));else for(var P=N;P<N+A;P++)S.push(new d(D,P))}console.log(l),console.log("highlights"),console.log(S);for(var q=0;q<e.cells.length;q++){for(var I=e.cells[q],R=I[0],U=I[1],F=null,J=0,Y=Object.entries(l);J<Y.length;J++){var z=Y[J],L=z[0],B=z[1];B.x===R&&B.y===U&&(F=L)}e.cells[q].push(F);for(var T=!1,X=0;X<S.length;X++)R===S[X].x&&U===S[X].y&&(T=!0);e.cells[q].push(T)}return console.log(e.cells),c.a.createElement("div",{style:{position:"relative",width:30*e.h+"px",height:30*e.v+"px"}},e.cells.map((function(l){var t=l[0],n=l[1],r=l[2],o=l[3],u=l[4];return r?c.a.createElement(b,{h:30,v:30,x:30*t,y:30*n,key:t+e.h*n}):c.a.createElement(y,{h:30,v:30,x:30*t,y:30*n,key:t+e.h*n,number:o,highlight:u,selected:null!==e.selectedCell&&t===e.selectedCell.x&&n===e.selectedCell.y,onClick:function(e){return p(new d(t,n))},selectNextCell:x,selectNextClue:E,moveCell:w})})))}function E(e){var l=null,t=null;return null!==e.selectedClue&&(l=e.selectedClue.num,t=e.selectedClue.direction),c.a.createElement("div",{style:{fontWeight:"bold"}},i[e.direction],Object.entries(e.clues).map((function(n){var r=n[0],o=n[1],u=e.direction===t&&r===l,s=o[0],a=o[1];return c.a.createElement(S,{number:r,clue:s,len:a,onClick:function(){!function(l){e.onClick(l,e.direction)}(r)},selected:u})})))}function S(e){var l="clue";return e.selected&&(l+=" selected"),c.a.createElement("div",{className:l,onClick:e.onClick},e.number,". ",e.clue," (",e.len,")")}l.default=function(){var e=n.data,l=e.allXwd2019Json.edges[0].node,t=l.across_size,r=l.down_size,s=l.black_squares,a=l.clues,i={ac:{},dn:{}};a.ac.forEach((function(e){i.ac[e.number]=[e.clue,e.length,e.date]})),a.dn.forEach((function(e){i.dn[e.number]=[e.clue,e.length,e.date]})),console.log(e),console.log("props"),console.log(i.ac),console.log(s),console.log(t),console.log(r);var h=s.map((function(e){var l=e[0],t=e[1];return new d(l,t)}));return c.a.createElement(o.a,null,c.a.createElement(u.a,{title:"Crosswords",keywords:["gatsby","application","react"]}),c.a.createElement(x,{blackCells:h,h:t,v:r,clues:i}))}},ys0W:function(e,l,t){var n=t("QPJK"),r=t("2mBY"),c=t("5SQf"),o=t("BnbX").f;e.exports=function(e){return function(l){for(var t,u=c(l),s=r(u),a=s.length,i=0,d=[];a>i;)t=s[i++],n&&!o.call(u,t)||d.push(e?[t,u[t]]:u[t]);return d}}}}]);
//# sourceMappingURL=component---src-pages-xwd-js-07835b7b54d6a0e22f44.js.map